{"openapi":"3.1.0","info":{"title":"IA ERP","description":"Multi-tenant electronic invoicing API for Chilean SII","version":"0.1.0"},"paths":{"/api/v1/dashboard/company":{"get":{"tags":["dashboard"],"summary":"Company Info","description":"Get the authenticated company's info (resolved from API Key).","operationId":"company_info_api_v1_dashboard_company_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/dashboard/stats":{"get":{"tags":["dashboard"],"summary":"Dashboard Stats","description":"Get aggregated dashboard statistics for the authenticated company.","operationId":"dashboard_stats_api_v1_dashboard_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/admin/companies":{"post":{"tags":["admin"],"summary":"Create Company","description":"Register a new company (tenant).","operationId":"create_company_api_v1_admin_companies_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/companies/{company_id}/api-keys":{"post":{"tags":["admin"],"summary":"Create Api Key","description":"Generate a new API key for a company. The raw key is shown only once.","operationId":"create_api_key_api_v1_admin_companies__company_id__api_keys_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreated"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/companies/{company_id}/certificates":{"post":{"tags":["admin"],"summary":"Upload Certificate","description":"Upload a PFX certificate for a company. Stored encrypted at rest.","operationId":"upload_certificate_api_v1_admin_companies__company_id__certificates_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"pfx_password","in":"query","required":true,"schema":{"type":"string","title":"Pfx Password"}},{"name":"rut_firmante","in":"query","required":true,"schema":{"type":"string","title":"Rut Firmante"}},{"name":"nombre_firmante","in":"query","required":true,"schema":{"type":"string","title":"Nombre Firmante"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_certificate_api_v1_admin_companies__company_id__certificates_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/companies/{company_id}/ambiente":{"put":{"tags":["admin"],"summary":"Update Ambiente","description":"Switch company between certification (0) and production (1).","operationId":"update_ambiente_api_v1_admin_companies__company_id__ambiente_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AmbienteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dte/emitir":{"post":{"tags":["dte"],"summary":"Emit Dte","description":"Emit a DTE: auto-assigns folio, signs, timestamps, and uploads to SII.","operationId":"emit_dte_api_v1_dte_emitir_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmitirDTERequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmitirDTEResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/dte/{tipo}/{folio}":{"get":{"tags":["dte"],"summary":"Get Dte","description":"Get DTE detail including XML as base64.","operationId":"get_dte_api_v1_dte__tipo___folio__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"path","required":true,"schema":{"type":"integer","title":"Tipo"}},{"name":"folio","in":"path","required":true,"schema":{"type":"integer","title":"Folio"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DTEDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dte/list":{"get":{"tags":["dte"],"summary":"List Dtes","description":"List DTEs with optional filters and pagination.","operationId":"list_dtes_api_v1_dte_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by DTE type","title":"Tipo"},"description":"Filter by DTE type"},{"name":"rut","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by receptor RUT","title":"Rut"},"description":"Filter by receptor RUT"},{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by SII status","title":"Estado"},"description":"Filter by SII status"},{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter from date (YYYY-MM-DD)","title":"Fecha Desde"},"description":"Filter from date (YYYY-MM-DD)"},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter to date (YYYY-MM-DD)","title":"Fecha Hasta"},"description":"Filter to date (YYYY-MM-DD)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DTEListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dte/{tipo}/{folio}/pdf":{"post":{"tags":["dte"],"summary":"Generate Dte Pdf","description":"Generate PDF for a specific DTE.","operationId":"generate_dte_pdf_api_v1_dte__tipo___folio__pdf_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"path","required":true,"schema":{"type":"integer","title":"Tipo"}},{"name":"folio","in":"path","required":true,"schema":{"type":"integer","title":"Folio"}},{"name":"cedible","in":"query","required":false,"schema":{"type":"boolean","description":"Generate cedible copy with acuse de recibo","default":false,"title":"Cedible"},"description":"Generate cedible copy with acuse de recibo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dte/{tipo}/{folio}/retry":{"post":{"tags":["dte"],"summary":"Retry Dte Upload","description":"Retry uploading a DTE that failed to reach SII.\n\nOnly works for DTEs with estado_sii='error' and no track_id\n(meaning the sobre never reached SII or SII rejected it without trackId).\nRe-builds the sobre from stored XML and re-uploads.","operationId":"retry_dte_upload_api_v1_dte__tipo___folio__retry_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"path","required":true,"schema":{"type":"integer","title":"Tipo"}},{"name":"folio","in":"path","required":true,"schema":{"type":"integer","title":"Folio"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Retry Dte Upload Api V1 Dte  Tipo   Folio  Retry Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dte/{tipo}/{folio}/estado-avanzado":{"get":{"tags":["dte"],"summary":"Consultar Estado Avanzado","description":"Advanced DTE status query via SII QueryEstDteAv.\n\nReturns verified DTE data from SII plus acceptance status.\nMore reliable than basic QueryEstDte.","operationId":"consultar_estado_avanzado_api_v1_dte__tipo___folio__estado_avanzado_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"path","required":true,"schema":{"type":"integer","title":"Tipo"}},{"name":"folio","in":"path","required":true,"schema":{"type":"integer","title":"Folio"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Consultar Estado Avanzado Api V1 Dte  Tipo   Folio  Estado Avanzado Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dte/{tipo}/{folio}/estado-receptor":{"get":{"tags":["dte"],"summary":"Consultar Estado Receptor","description":"Query receptor acceptance/claim status for a DTE via SII RECD service.\n\nReturns the event history (ACD, RCD, ERM, RFP, RFT) registered by the\nreceptor for this DTE, plus cesion status and SII reception date.\n\nEvent codes:\n- ACD: Acepta Contenido del Documento\n- RCD: Reclamo al Contenido del Documento\n- ERM: Otorga Recibo de Mercaderias o Servicios\n- RFP: Reclamo por Falta Parcial de Mercaderias\n- RFT: Reclamo por Falta Total de Mercaderias","operationId":"consultar_estado_receptor_api_v1_dte__tipo___folio__estado_receptor_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"path","required":true,"schema":{"type":"integer","title":"Tipo"}},{"name":"folio","in":"path","required":true,"schema":{"type":"integer","title":"Folio"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Consultar Estado Receptor Api V1 Dte  Tipo   Folio  Estado Receptor Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dte/{tipo}/{folio}/reenviar-correo":{"post":{"tags":["dte"],"summary":"Reenviar Correo Endpoint","description":"Request SII to resend the DTE validation email.\n\nUses wsDTECorreo to ask SII to resend the diagnostic email\nfor the trackId associated with this DTE.","operationId":"reenviar_correo_endpoint_api_v1_dte__tipo___folio__reenviar_correo_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"path","required":true,"schema":{"type":"integer","title":"Tipo"}},{"name":"folio","in":"path","required":true,"schema":{"type":"integer","title":"Folio"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reenviar Correo Endpoint Api V1 Dte  Tipo   Folio  Reenviar Correo Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recibidos/list":{"get":{"tags":["recibidos"],"summary":"List Received Dtes","description":"List received DTEs with filters and pagination.","operationId":"list_received_dtes_api_v1_recibidos_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by DTE type","title":"Tipo"},"description":"Filter by DTE type"},{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by acuse status","title":"Estado"},"description":"Filter by acuse status"},{"name":"rut_emisor","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by emisor RUT","title":"Rut Emisor"},"description":"Filter by emisor RUT"},{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"From date (YYYY-MM-DD)","title":"Fecha Desde"},"description":"From date (YYYY-MM-DD)"},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"To date (YYYY-MM-DD)","title":"Fecha Hasta"},"description":"To date (YYYY-MM-DD)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DTERecibidoListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recibidos/{dte_id}":{"get":{"tags":["recibidos"],"summary":"Get Received Dte","description":"Get detail of a received DTE, including XML if available.","operationId":"get_received_dte_api_v1_recibidos__dte_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"dte_id","in":"path","required":true,"schema":{"type":"string","title":"Dte Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DTERecibidoDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recibidos/sync":{"post":{"tags":["recibidos"],"summary":"Sync From Sii","description":"Sync received DTEs from SII RCV for a given period.","operationId":"sync_from_sii_api_v1_recibidos_sync_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncRCVRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncRCVResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/recibidos/{dte_id}/acuse":{"post":{"tags":["recibidos"],"summary":"Send Acuse","description":"Send acuse de recibo (accept/reject/dispute) for a received DTE.","operationId":"send_acuse_api_v1_recibidos__dte_id__acuse_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dte_id","in":"path","required":true,"schema":{"type":"string","title":"Dte Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcuseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcuseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recibidos/resumen/{periodo}":{"get":{"tags":["recibidos"],"summary":"Received Summary","description":"Get summary of received DTEs for a period (for dashboard).","operationId":"received_summary_api_v1_recibidos_resumen__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Received Summary Api V1 Recibidos Resumen  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recibidos/{dte_id}/registrar-evento":{"post":{"tags":["recibidos"],"summary":"Registrar Evento Sii","description":"Register acceptance or rejection of a received DTE directly in SII.\n\nEvents:\n    ACD - Acepta Contenido del Documento\n    RCD - Reclamo al Contenido del Documento\n    ERM - Otorga Recibo de Mercaderias o Servicios\n    RFP - Reclamo por Falta Parcial de Mercaderias\n    RFT - Reclamo por Falta Total de Mercaderias","operationId":"registrar_evento_sii_api_v1_recibidos__dte_id__registrar_evento_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dte_id","in":"path","required":true,"schema":{"type":"string","title":"Dte Id"}},{"name":"evento","in":"query","required":true,"schema":{"type":"string","description":"Codigo evento: ACD (acepta), RCD (reclamo), ERM (recibo mercaderia), RFP (falta parcial), RFT (falta total)","title":"Evento"},"description":"Codigo evento: ACD (acepta), RCD (reclamo), ERM (recibo mercaderia), RFP (falta parcial), RFT (falta total)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Registrar Evento Sii Api V1 Recibidos  Dte Id  Registrar Evento Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recibidos/{dte_id}/eventos":{"get":{"tags":["recibidos"],"summary":"Consultar Eventos Sii","description":"Query event history for a received DTE from SII.\n\nReturns all acceptance/rejection events registered for this DTE.","operationId":"consultar_eventos_sii_api_v1_recibidos__dte_id__eventos_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"dte_id","in":"path","required":true,"schema":{"type":"string","title":"Dte Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Consultar Eventos Sii Api V1 Recibidos  Dte Id  Eventos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/folios/status":{"get":{"tags":["folios"],"summary":"Folio Status","description":"Get available folios by DTE type.","operationId":"folio_status_api_v1_folios_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FolioStatusResponse"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/folios/solicitar":{"post":{"tags":["folios"],"summary":"Request Folios","description":"Request new folios (CAFs) from SII.","operationId":"request_folios_api_v1_folios_solicitar_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SolicitarFoliosRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SolicitarFoliosResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/folios/debug-solicitar":{"post":{"tags":["folios"],"summary":"Debug Request Folios","description":"Debug: show SII HTML responses at each step of folio request.","operationId":"debug_request_folios_api_v1_folios_debug_solicitar_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SolicitarFoliosRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Debug Request Folios Api V1 Folios Debug Solicitar Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/folios/invalidar/{tipo_dte}":{"post":{"tags":["folios"],"summary":"Invalidar Folios","description":"Mark all folios of a given DTE type as 'invalido'.\n\nUse this to clear certification folios that were incorrectly loaded\ninto the production system, unblocking new folio requests to SII.","operationId":"invalidar_folios_api_v1_folios_invalidar__tipo_dte__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tipo_dte","in":"path","required":true,"schema":{"type":"integer","title":"Tipo Dte"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Invalidar Folios Api V1 Folios Invalidar  Tipo Dte  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/folios/diagnostico/{tipo_dte}":{"get":{"tags":["folios"],"summary":"Diagnosticar Folios","description":"Diagnose CAF metadata for all folios of a DTE type.\n\nReturns IDK (ambiente), RUT, range, and authorization date from each CAF XML.\nUseful to determine if folios are certification or production.","operationId":"diagnosticar_folios_api_v1_folios_diagnostico__tipo_dte__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo_dte","in":"path","required":true,"schema":{"type":"integer","title":"Tipo Dte"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Diagnosticar Folios Api V1 Folios Diagnostico  Tipo Dte  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/folios/reactivar/{tipo_dte}":{"post":{"tags":["folios"],"summary":"Reactivar Folios","description":"Reactivate invalidated folios that still have available numbers.","operationId":"reactivar_folios_api_v1_folios_reactivar__tipo_dte__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tipo_dte","in":"path","required":true,"schema":{"type":"integer","title":"Tipo Dte"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reactivar Folios Api V1 Folios Reactivar  Tipo Dte  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/folios/repair-expiry":{"post":{"tags":["folios"],"summary":"Repair Folio Expiry","description":"Recalculate fecha_vencimiento for all folios from actual CAF XML.\n\nFixes folios incorrectly marked as 'vencido' due to storing <FA>\n(authorization date) instead of FA + 6 months (actual expiry).\nReactivates folios that are still valid and have remaining folios.","operationId":"repair_folio_expiry_api_v1_folios_repair_expiry_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Repair Folio Expiry Api V1 Folios Repair Expiry Post"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cuadratura":{"get":{"tags":["cuadratura"],"summary":"Cuadratura","description":"Get monthly DTE reconciliation summary.","operationId":"cuadratura_api_v1_cuadratura_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"mes","in":"query","required":true,"schema":{"type":"string","description":"Month in YYYY-MM format","examples":["2026-02"],"title":"Mes"},"description":"Month in YYYY-MM format"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Cuadratura Api V1 Cuadratura Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contactos/list":{"get":{"tags":["contactos"],"summary":"List Contacts","description":"List contacts with optional filters.","operationId":"list_contacts_api_v1_contactos_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"cliente or proveedor","title":"Tipo"},"description":"cliente or proveedor"},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by RUT or name","title":"Q"},"description":"Search by RUT or name"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactoListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contactos/buscar-rut/{rut}":{"get":{"tags":["contactos"],"summary":"Buscar Rut Sii","description":"Lookup company data from SII by RUT.\n\nQueries the SII public endpoint to retrieve razon social,\ngiros, actividades economicas, and other tax info.\nIf the company has an active digital certificate, also queries\nthe cert-authenticated endpoint to get the DTE interchange email.","operationId":"buscar_rut_sii_api_v1_contactos_buscar_rut__rut__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"rut","in":"path","required":true,"schema":{"type":"string","title":"Rut"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Buscar Rut Sii Api V1 Contactos Buscar Rut  Rut  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contactos/{contacto_id}":{"get":{"tags":["contactos"],"summary":"Get Contact","description":"Get contact detail.","operationId":"get_contact_api_v1_contactos__contacto_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"contacto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contacto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["contactos"],"summary":"Update Contact","description":"Update an existing contact.","operationId":"update_contact_api_v1_contactos__contacto_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"contacto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contacto Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactoUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["contactos"],"summary":"Delete Contact","description":"Soft-delete a contact (set is_active=False).","operationId":"delete_contact_api_v1_contactos__contacto_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"contacto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contacto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Contact Api V1 Contactos  Contacto Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contactos/":{"post":{"tags":["contactos"],"summary":"Create Contact","description":"Create a new contact.","operationId":"create_contact_api_v1_contactos__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactoCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/productos/list":{"get":{"tags":["productos"],"summary":"List Products","description":"List products/services with filters.","operationId":"list_products_api_v1_productos_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"tipo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"producto or servicio","title":"Tipo"},"description":"producto or servicio"},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by code or name","title":"Q"},"description":"Search by code or name"},{"name":"stock_bajo","in":"query","required":false,"schema":{"type":"boolean","description":"Only low stock","default":false,"title":"Stock Bajo"},"description":"Only low stock"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/productos/{producto_id}":{"get":{"tags":["productos"],"summary":"Get Product","description":"Get product detail.","operationId":"get_product_api_v1_productos__producto_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Producto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["productos"],"summary":"Update Product","description":"Update an existing product/service.","operationId":"update_product_api_v1_productos__producto_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Producto Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["productos"],"summary":"Delete Product","description":"Soft-delete a product.","operationId":"delete_product_api_v1_productos__producto_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Producto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Product Api V1 Productos  Producto Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/productos/":{"post":{"tags":["productos"],"summary":"Create Product","description":"Create a new product/service.","operationId":"create_product_api_v1_productos__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/productos/{producto_id}/stock":{"post":{"tags":["productos"],"summary":"Adjust Product Stock","description":"Adjust product stock by a delta amount.","operationId":"adjust_product_stock_api_v1_productos__producto_id__stock_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Producto Id"}},{"name":"cantidad","in":"query","required":true,"schema":{"type":"integer","description":"Stock delta (+/-)","title":"Cantidad"},"description":"Stock delta (+/-)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cuentas/cobrar":{"get":{"tags":["cuentas"],"summary":"List Receivables","description":"List accounts receivable.","operationId":"list_receivables_api_v1_cuentas_cobrar_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},{"name":"rut","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rut"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CuentasListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["cuentas"],"summary":"Create Receivable","description":"Create an account receivable.","operationId":"create_receivable_api_v1_cuentas_cobrar_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CuentaCobrarCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CuentaCobrarResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cuentas/cobrar/aging":{"get":{"tags":["cuentas"],"summary":"Receivables Aging","description":"Aging report for accounts receivable.","operationId":"receivables_aging_api_v1_cuentas_cobrar_aging_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgingReport"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/cuentas/cobrar/{cuenta_id}/pago":{"post":{"tags":["cuentas"],"summary":"Pay Receivable","description":"Register a payment on an account receivable.","operationId":"pay_receivable_api_v1_cuentas_cobrar__cuenta_id__pago_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cuenta_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cuenta Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagoCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cuentas/pagar":{"get":{"tags":["cuentas"],"summary":"List Payables","description":"List accounts payable.","operationId":"list_payables_api_v1_cuentas_pagar_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},{"name":"rut","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rut"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CuentasListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["cuentas"],"summary":"Create Payable","description":"Create an account payable.","operationId":"create_payable_api_v1_cuentas_pagar_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CuentaPagarCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CuentaPagarResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cuentas/pagar/aging":{"get":{"tags":["cuentas"],"summary":"Payables Aging","description":"Aging report for accounts payable.","operationId":"payables_aging_api_v1_cuentas_pagar_aging_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgingReport"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/cuentas/pagar/{cuenta_id}/pago":{"post":{"tags":["cuentas"],"summary":"Pay Payable","description":"Register a payment on an account payable.","operationId":"pay_payable_api_v1_cuentas_pagar__cuenta_id__pago_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cuenta_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cuenta Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagoCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cotizaciones/resumen":{"get":{"tags":["cotizaciones"],"summary":"Get Resumen","description":"Summary stats for cotizaciones dashboard.","operationId":"get_resumen_api_v1_cotizaciones_resumen_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY or YYYY-MM","title":"Periodo"},"description":"YYYY or YYYY-MM"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Resumen Api V1 Cotizaciones Resumen Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cotizaciones/list":{"get":{"tags":["cotizaciones"],"summary":"List Quotes","description":"List quotations with optional state filter.","operationId":"list_quotes_api_v1_cotizaciones_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CotizacionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cotizaciones/{cotizacion_id}":{"get":{"tags":["cotizaciones"],"summary":"Get Quote","description":"Get quotation detail with parsed items.","operationId":"get_quote_api_v1_cotizaciones__cotizacion_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"cotizacion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cotizacion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Quote Api V1 Cotizaciones  Cotizacion Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["cotizaciones"],"summary":"Update Quote","description":"Update a quotation (only in borrador state).","operationId":"update_quote_api_v1_cotizaciones__cotizacion_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cotizacion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cotizacion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CotizacionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Quote Api V1 Cotizaciones  Cotizacion Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cotizaciones":{"post":{"tags":["cotizaciones"],"summary":"Create Quote","description":"Create a new quotation with auto-calculated totals.","operationId":"create_quote_api_v1_cotizaciones_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CotizacionCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Quote Api V1 Cotizaciones Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cotizaciones/{cotizacion_id}/estado":{"post":{"tags":["cotizaciones"],"summary":"Change State","description":"Change quotation state (borrador->enviada->aprobada->facturada).","operationId":"change_state_api_v1_cotizaciones__cotizacion_id__estado_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cotizacion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cotizacion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CambiarEstadoRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Change State Api V1 Cotizaciones  Cotizacion Id  Estado Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cotizaciones/{cotizacion_id}/duplicar":{"post":{"tags":["cotizaciones"],"summary":"Duplicate Quote","description":"Duplicate a quotation as a new borrador.","operationId":"duplicate_quote_api_v1_cotizaciones__cotizacion_id__duplicar_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cotizacion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cotizacion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Duplicate Quote Api V1 Cotizaciones  Cotizacion Id  Duplicar Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cotizaciones/{cotizacion_id}/convertir":{"post":{"tags":["cotizaciones"],"summary":"Convert To Dte","description":"Prepare data to convert quotation to DTE emission request.","operationId":"convert_to_dte_api_v1_cotizaciones__cotizacion_id__convertir_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cotizacion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cotizacion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConvertirRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Convert To Dte Api V1 Cotizaciones  Cotizacion Id  Convertir Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cotizaciones/{cotizacion_id}/facturada":{"post":{"tags":["cotizaciones"],"summary":"Mark Invoiced","description":"Mark quotation as invoiced and link to DTE.","operationId":"mark_invoiced_api_v1_cotizaciones__cotizacion_id__facturada_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cotizacion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Cotizacion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarcarFacturadaRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Mark Invoiced Api V1 Cotizaciones  Cotizacion Id  Facturada Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/libros/ventas/{periodo}":{"get":{"tags":["libros"],"summary":"Get Libro Ventas","description":"Libro de Ventas for a period.","operationId":"get_libro_ventas_api_v1_libros_ventas__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Libro Ventas Api V1 Libros Ventas  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/libros/compras/{periodo}":{"get":{"tags":["libros"],"summary":"Get Libro Compras","description":"Libro de Compras for a period.","operationId":"get_libro_compras_api_v1_libros_compras__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Libro Compras Api V1 Libros Compras  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/libros/f29/{periodo}":{"get":{"tags":["libros"],"summary":"Get F29","description":"F29 tax form calculation for a period.\n\nPPM rate is loaded from company config by default.\nUse tasa_ppm to simulate a different rate.","operationId":"get_f29_api_v1_libros_f29__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}},{"name":"tasa_ppm","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Override PPM rate (e.g. 0.003 for 0.3%)","title":"Tasa Ppm"},"description":"Override PPM rate (e.g. 0.003 for 0.3%)"},{"name":"remanente_anterior","in":"query","required":false,"schema":{"type":"integer","description":"IVA credit carryover from previous period","default":0,"title":"Remanente Anterior"},"description":"IVA credit carryover from previous period"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get F29 Api V1 Libros F29  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/libros/ppm":{"put":{"tags":["libros"],"summary":"Update Tasa Ppm","description":"Update the company's PPM rate.\n\nThe PPM rate is recalculated annually from the F22 tax return.\nCommon values: 0.25% (0.0025) for new companies, varies after first year.","operationId":"update_tasa_ppm_api_v1_libros_ppm_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tasa_ppm","in":"query","required":true,"schema":{"type":"number","description":"New PPM rate (e.g. 0.003)","title":"Tasa Ppm"},"description":"New PPM rate (e.g. 0.003)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Tasa Ppm Api V1 Libros Ppm Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/usuarios/login":{"post":{"tags":["usuarios"],"summary":"Login","description":"Authenticate and get JWT token. Supports multi-company selection.","operationId":"login_api_v1_usuarios_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/usuarios/switch-company":{"post":{"tags":["usuarios"],"summary":"Switch Company","description":"Switch active company context, returns new JWT.","operationId":"switch_company_api_v1_usuarios_switch_company_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwitchCompanyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/usuarios/":{"post":{"tags":["usuarios"],"summary":"Register User","description":"Create a new user and assign to the admin's current company.","operationId":"register_user_api_v1_usuarios__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/usuarios/{user_id}/companies":{"post":{"tags":["usuarios"],"summary":"Assign Company","description":"Assign a user to a company with a role. Admin only.","operationId":"assign_company_api_v1_usuarios__user_id__companies_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignCompanyRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Assign Company Api V1 Usuarios  User Id  Companies Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/usuarios/list":{"get":{"tags":["usuarios"],"summary":"List Users","description":"List all users assigned to the current company.","operationId":"list_users_api_v1_usuarios_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UsuarioResponse"},"type":"array","title":"Response List Users Api V1 Usuarios List Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/usuarios/{user_id}":{"put":{"tags":["usuarios"],"summary":"Update User","description":"Update a user. Role changes apply to the current company assignment.","operationId":"update_user_api_v1_usuarios__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/usuarios/{user_id}/change-password":{"post":{"tags":["usuarios"],"summary":"Change Password","description":"Change user password.","operationId":"change_password_api_v1_usuarios__user_id__change_password_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Change Password Api V1 Usuarios  User Id  Change Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/boletas/emitir":{"post":{"tags":["boletas"],"summary":"Emit Boleta","description":"Emit a Boleta Electronica (T39) or Boleta Exenta (T41).","operationId":"emit_boleta_api_v1_boletas_emitir_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoletaEmitirRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmitirDTEResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/boletas/list":{"get":{"tags":["boletas"],"summary":"List Boletas","description":"List boletas (T39 and T41 only).","operationId":"list_boletas_api_v1_boletas_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fecha Desde"}},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fecha Hasta"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DTEListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/boletas/resumen/{periodo}":{"get":{"tags":["boletas"],"summary":"Boletas Summary","description":"Daily summary of boletas for a period (for RCOF).","operationId":"boletas_summary_api_v1_boletas_resumen__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Boletas Summary Api V1 Boletas Resumen  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/guias/emitir":{"post":{"tags":["guias-despacho"],"summary":"Emit Guia","description":"Emit a Guia de Despacho Electronica (T52).\n\nThe request.tipo_dte is forced to 52.","operationId":"emit_guia_api_v1_guias_emitir_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmitirDTERequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmitirDTEResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/guias/list":{"get":{"tags":["guias-despacho"],"summary":"List Guias","description":"List guias de despacho (T52 only).","operationId":"list_guias_api_v1_guias_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fecha Desde"}},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fecha Hasta"}},{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DTEListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/envios/tarifas/calcular":{"post":{"tags":["envios"],"summary":"Calcular Tarifa","description":"Calculate shipping rate using company's negotiated rates.\n\nUses Correos Chile API with company-specific credentials.","operationId":"calcular_tarifa_api_v1_envios_tarifas_calcular_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalcularTarifaRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalcularTarifaResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorTarifaResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/envios":{"post":{"tags":["envios"],"summary":"Crear Envio","description":"Create physical shipment from Guia de Despacho.\n\nGenerates shipping label via Correos Chile API.","operationId":"crear_envio_api_v1_envios_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnvioFisicoCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnvioFisicoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["envios"],"summary":"Listar Envios","description":"List shipments for the company.","operationId":"listar_envios_api_v1_envios_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnvioFisicoResponse"},"title":"Response Listar Envios Api V1 Envios Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/envios/{envio_id}/tracking":{"get":{"tags":["envios"],"summary":"Obtener Tracking","description":"Get tracking information for a shipment.\n\nReturns cached data unless refresh=true.","operationId":"obtener_tracking_api_v1_envios__envio_id__tracking_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"envio_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Envio Id"}},{"name":"refresh","in":"query","required":false,"schema":{"type":"boolean","description":"Force refresh from carrier API","default":false,"title":"Refresh"},"description":"Force refresh from carrier API"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notificaciones/":{"get":{"tags":["notificaciones"],"summary":"List Notifications","description":"List notifications.","operationId":"list_notifications_api_v1_notificaciones__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"solo_no_leidas","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Solo No Leidas"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificacionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notificaciones/{notif_id}/leer":{"post":{"tags":["notificaciones"],"summary":"Mark Read","description":"Mark a notification as read.","operationId":"mark_read_api_v1_notificaciones__notif_id__leer_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notif_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notif Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Mark Read Api V1 Notificaciones  Notif Id  Leer Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notificaciones/leer-todas":{"post":{"tags":["notificaciones"],"summary":"Mark All Read","description":"Mark all notifications as read.","operationId":"mark_all_read_api_v1_notificaciones_leer_todas_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Mark All Read Api V1 Notificaciones Leer Todas Post"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/notificaciones/webhooks":{"get":{"tags":["notificaciones"],"summary":"List Webhooks","description":"List webhook configurations.","operationId":"list_webhooks_api_v1_notificaciones_webhooks_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/WebhookConfigResponse"},"type":"array","title":"Response List Webhooks Api V1 Notificaciones Webhooks Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]},"post":{"tags":["notificaciones"],"summary":"Create Webhook","description":"Create a webhook configuration.","operationId":"create_webhook_api_v1_notificaciones_webhooks_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookConfigCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/notificaciones/webhooks/{webhook_id}":{"delete":{"tags":["notificaciones"],"summary":"Delete Webhook","description":"Delete a webhook configuration.","operationId":"delete_webhook_api_v1_notificaciones_webhooks__webhook_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"webhook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Webhook Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Webhook Api V1 Notificaciones Webhooks  Webhook Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reportes/resumen/{periodo}":{"get":{"tags":["reportes"],"summary":"Monthly Summary","description":"Monthly summary report.","operationId":"monthly_summary_api_v1_reportes_resumen__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Monthly Summary Api V1 Reportes Resumen  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reportes/export/ventas/{periodo}":{"get":{"tags":["reportes"],"summary":"Export Sales Csv","description":"Export sales as CSV.","operationId":"export_sales_csv_api_v1_reportes_export_ventas__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reportes/export/compras/{periodo}":{"get":{"tags":["reportes"],"summary":"Export Purchases Csv","description":"Export purchases as CSV.","operationId":"export_purchases_csv_api_v1_reportes_export_compras__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ordenes-compra/list":{"get":{"tags":["ordenes-compra"],"summary":"List Purchase Orders","description":"List purchase orders.","operationId":"list_purchase_orders_api_v1_ordenes_compra_list_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdenCompraListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ordenes-compra/{oc_id}":{"get":{"tags":["ordenes-compra"],"summary":"Get Purchase Order","description":"Get purchase order detail.","operationId":"get_purchase_order_api_v1_ordenes_compra__oc_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"oc_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Oc Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdenCompraResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["ordenes-compra"],"summary":"Update Purchase Order","description":"Update a purchase order.","operationId":"update_purchase_order_api_v1_ordenes_compra__oc_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"oc_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Oc Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdenCompraUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdenCompraResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ordenes-compra/":{"post":{"tags":["ordenes-compra"],"summary":"Create Purchase Order","description":"Create a new purchase order.","operationId":"create_purchase_order_api_v1_ordenes_compra__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdenCompraCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdenCompraResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cesion/registrar":{"post":{"tags":["cesion"],"summary":"Register Cesion","description":"Register a cesion (factoring transfer) for a DTE.","operationId":"register_cesion_api_v1_cesion_registrar_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CesionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Register Cesion Api V1 Cesion Registrar Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/intercambio/enviar":{"post":{"tags":["intercambio"],"summary":"Send Dte Email","description":"Send a DTE XML to the receptor via email.","operationId":"send_dte_email_api_v1_intercambio_enviar_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntercambioRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Send Dte Email Api V1 Intercambio Enviar Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tributario/regimen":{"get":{"tags":["tributario"],"summary":"Get Regimen","description":"Get current tax regime and available options.","operationId":"get_regimen_api_v1_tributario_regimen_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Regimen Api V1 Tributario Regimen Get"}}}}}},"put":{"tags":["tributario"],"summary":"Update Regimen","description":"Change company tax regime.","operationId":"update_regimen_api_v1_tributario_regimen_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"regimen","in":"query","required":true,"schema":{"type":"string","description":"Tax regime code: 14D3, 14D8, 14A, presunta","title":"Regimen"},"description":"Tax regime code: 14D3, 14D8, 14A, presunta"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Regimen Api V1 Tributario Regimen Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tributario/ppm/formula":{"get":{"tags":["tributario"],"summary":"Get Ppm Formula","description":"Calculate PPM rate using the official F22 formula.\n\nUses prior year's income tax and gross revenue to compute\nthe PPM rate that should apply starting April of current year.","operationId":"get_ppm_formula_api_v1_tributario_ppm_formula_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"ano","in":"query","required":false,"schema":{"type":"integer","description":"Reference year for PPM calculation (default: last year)","title":"Ano"},"description":"Reference year for PPM calculation (default: last year)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Ppm Formula Api V1 Tributario Ppm Formula Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tributario/renta/{ano}":{"get":{"tags":["tributario"],"summary":"Get Simulacion Renta","description":"Simulate annual income tax (Impuesto de Primera Categoria).\n\nShows real data for completed months, projects the rest of the year.\nIncludes PPM credits and estimated balance (to pay or refund).","operationId":"get_simulacion_renta_api_v1_tributario_renta__ano__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"ano","in":"path","required":true,"schema":{"type":"integer","title":"Ano"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Simulacion Renta Api V1 Tributario Renta  Ano  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/giros/list":{"get":{"tags":["giros"],"summary":"List Giros","description":"List all giros for the company.","operationId":"list_giros_api_v1_giros_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/GiroResponse"},"type":"array","title":"Response List Giros Api V1 Giros List Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/giros/":{"post":{"tags":["giros"],"summary":"Create Giro","description":"Add a new giro to the company.","operationId":"create_giro_api_v1_giros__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiroCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiroResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/giros/{giro_id}":{"put":{"tags":["giros"],"summary":"Update Giro","description":"Update a giro.","operationId":"update_giro_api_v1_giros__giro_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"giro_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Giro Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiroUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiroResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["giros"],"summary":"Delete Giro","description":"Deactivate a giro (soft delete).","operationId":"delete_giro_api_v1_giros__giro_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"giro_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Giro Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Giro Api V1 Giros  Giro Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contabilidad/plan-cuentas/inicializar":{"post":{"tags":["contabilidad"],"summary":"Init Plan Cuentas","description":"Initialize the standard Chilean chart of accounts.","operationId":"init_plan_cuentas_api_v1_contabilidad_plan_cuentas_inicializar_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Init Plan Cuentas Api V1 Contabilidad Plan Cuentas Inicializar Post"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/contabilidad/plan-cuentas":{"get":{"tags":["contabilidad"],"summary":"Get Plan Cuentas","description":"List chart of accounts.","operationId":"get_plan_cuentas_api_v1_contabilidad_plan_cuentas_get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"tipo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by type: activo|pasivo|patrimonio|ingreso|costo|gasto","title":"Tipo"},"description":"Filter by type: activo|pasivo|patrimonio|ingreso|costo|gasto"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Plan Cuentas Api V1 Contabilidad Plan Cuentas Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contabilidad/asientos":{"post":{"tags":["contabilidad"],"summary":"Create Asiento","description":"Create a manual journal entry. Must be balanced (debe = haber).","operationId":"create_asiento_api_v1_contabilidad_asientos_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsientoInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Asiento Api V1 Contabilidad Asientos Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/contabilidad/libro-mayor/{cuenta_codigo}":{"get":{"tags":["contabilidad"],"summary":"Get Libro Mayor","description":"General ledger for a specific account.","operationId":"get_libro_mayor_api_v1_contabilidad_libro_mayor__cuenta_codigo__get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"cuenta_codigo","in":"path","required":true,"schema":{"type":"string","title":"Cuenta Codigo"}},{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM","title":"Periodo"},"description":"YYYY-MM"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Libro Mayor Api V1 Contabilidad Libro Mayor  Cuenta Codigo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contabilidad/pre-balance":{"get":{"tags":["contabilidad"],"summary":"Get Pre Balance","description":"Trial balance (balance de comprobacion).\n\nShows all accounts with accumulated debits/credits.\nDebits must equal credits if books are balanced.","operationId":"get_pre_balance_api_v1_contabilidad_pre_balance_get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"Fecha Hasta"},"description":"YYYY-MM-DD"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Pre Balance Api V1 Contabilidad Pre Balance Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contabilidad/balance":{"get":{"tags":["contabilidad"],"summary":"Get Balance General","description":"Balance sheet: Activos = Pasivos + Patrimonio.","operationId":"get_balance_general_api_v1_contabilidad_balance_get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"Fecha Hasta"},"description":"YYYY-MM-DD"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Balance General Api V1 Contabilidad Balance Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/contabilidad/resultados":{"get":{"tags":["contabilidad"],"summary":"Get Estado Resultados","description":"Income statement: Ingresos - Costos - Gastos = Resultado.","operationId":"get_estado_resultados_api_v1_contabilidad_resultados_get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM for monthly","title":"Periodo"},"description":"YYYY-MM for monthly"},{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"Fecha Desde"},"description":"YYYY-MM-DD"},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"Fecha Hasta"},"description":"YYYY-MM-DD"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Estado Resultados Api V1 Contabilidad Resultados Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventario/movimiento":{"post":{"tags":["inventario"],"summary":"Create Movimiento","description":"Register a stock movement (updates product stock).","operationId":"create_movimiento_api_v1_inventario_movimiento_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovimientoInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Movimiento Api V1 Inventario Movimiento Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/inventario/kardex/{producto_id}":{"get":{"tags":["inventario"],"summary":"Get Kardex","description":"Get kardex (stock card) for a product.","operationId":"get_kardex_api_v1_inventario_kardex__producto_id__get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Producto Id"}},{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM","title":"Periodo"},"description":"YYYY-MM"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Kardex Api V1 Inventario Kardex  Producto Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventario/valorizacion":{"get":{"tags":["inventario"],"summary":"Get Valorizacion","description":"Full inventory valuation report (weighted average cost).","operationId":"get_valorizacion_api_v1_inventario_valorizacion_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Valorizacion Api V1 Inventario Valorizacion Get"}}}}},"security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}]}},"/api/v1/inventario/resumen/{periodo}":{"get":{"tags":["inventario"],"summary":"Get Resumen","description":"Summary of inventory movements for a period.","operationId":"get_resumen_api_v1_inventario_resumen__periodo__get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Resumen Api V1 Inventario Resumen  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventario/bodegas":{"get":{"tags":["inventario"],"summary":"Get Bodegas","description":"List all warehouses.","operationId":"get_bodegas_api_v1_inventario_bodegas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get Bodegas Api V1 Inventario Bodegas Get"}}}}},"security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}]},"post":{"tags":["inventario"],"summary":"Create Bodega","description":"Create a new warehouse.","operationId":"create_bodega_api_v1_inventario_bodegas_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BodegaInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Bodega Api V1 Inventario Bodegas Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/inventario/bodegas/{bodega_id}":{"put":{"tags":["inventario"],"summary":"Update Bodega","description":"Update warehouse details.","operationId":"update_bodega_api_v1_inventario_bodegas__bodega_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bodega_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bodega Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BodegaInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Bodega Api V1 Inventario Bodegas  Bodega Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventario/bodegas/stock":{"get":{"tags":["inventario"],"summary":"Get Stock Bodegas","description":"Stock levels per warehouse.","operationId":"get_stock_bodegas_api_v1_inventario_bodegas_stock_get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"bodega_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by warehouse","title":"Bodega Id"},"description":"Filter by warehouse"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Stock Bodegas Api V1 Inventario Bodegas Stock Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventario/bodegas/transferir":{"post":{"tags":["inventario"],"summary":"Post Transferencia","description":"Transfer stock between warehouses.","operationId":"post_transferencia_api_v1_inventario_bodegas_transferir_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferenciaInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Post Transferencia Api V1 Inventario Bodegas Transferir Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/iva/detalle/{periodo}":{"get":{"tags":["iva"],"summary":"Get Detalle Iva","description":"Detailed IVA breakdown for a period.\n\nShows every DTE contributing to Debito Fiscal and Credito Fiscal,\nwith clear explanation of the IVA position.","operationId":"get_detalle_iva_api_v1_iva_detalle__periodo__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}},{"name":"remanente_anterior","in":"query","required":false,"schema":{"type":"integer","description":"IVA credit carryover from previous month","default":0,"title":"Remanente Anterior"},"description":"IVA credit carryover from previous month"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Detalle Iva Api V1 Iva Detalle  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/iva/historial/{ano}":{"get":{"tags":["iva"],"summary":"Get Historial Iva","description":"Monthly IVA history for a full year.\n\nTracks debito/credito/remanente month by month, showing how\nthe IVA position evolves and remanente carries over.","operationId":"get_historial_iva_api_v1_iva_historial__ano__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"ano","in":"path","required":true,"schema":{"type":"integer","title":"Ano"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Historial Iva Api V1 Iva Historial  Ano  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flujo-caja/proyeccion":{"get":{"tags":["flujo-caja"],"summary":"Get Proyeccion","description":"Cash flow projection for the next N months.","operationId":"get_proyeccion_api_v1_flujo_caja_proyeccion_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"meses","in":"query","required":false,"schema":{"type":"integer","description":"Number of months to project","default":3,"title":"Meses"},"description":"Number of months to project"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Proyeccion Api V1 Flujo Caja Proyeccion Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flujo-caja/detalle/{mes}":{"get":{"tags":["flujo-caja"],"summary":"Get Detalle Mes","description":"Detailed cash flow breakdown for a specific month.","operationId":"get_detalle_mes_api_v1_flujo_caja_detalle__mes__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"mes","in":"path","required":true,"schema":{"type":"string","title":"Mes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Detalle Mes Api V1 Flujo Caja Detalle  Mes  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/indicadores/":{"get":{"tags":["indicadores"],"summary":"Get Indicadores","description":"Current Chilean economic indicators (UF, USD, UTM, EUR, IPC).","operationId":"get_indicadores_api_v1_indicadores__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Indicadores Api V1 Indicadores  Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/indicadores/convertir":{"get":{"tags":["indicadores"],"summary":"Get Conversion","description":"Convert amount between currencies/indicators.","operationId":"get_conversion_api_v1_indicadores_convertir_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"monto","in":"query","required":true,"schema":{"type":"integer","description":"Amount to convert","title":"Monto"},"description":"Amount to convert"},{"name":"desde","in":"query","required":true,"schema":{"type":"string","description":"Source currency/indicator","title":"Desde"},"description":"Source currency/indicator"},{"name":"hacia","in":"query","required":true,"schema":{"type":"string","description":"Target currency/indicator","title":"Hacia"},"description":"Target currency/indicator"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Conversion Api V1 Indicadores Convertir Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/indicadores/historial/{indicador}/{ano}":{"get":{"tags":["indicadores"],"summary":"Get Historial","description":"Historical data for an indicator in a specific year.","operationId":"get_historial_api_v1_indicadores_historial__indicador___ano__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"indicador","in":"path","required":true,"schema":{"type":"string","title":"Indicador"}},{"name":"ano","in":"path","required":true,"schema":{"type":"integer","title":"Ano"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Historial Api V1 Indicadores Historial  Indicador   Ano  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rentabilidad/clientes":{"get":{"tags":["rentabilidad"],"summary":"Get Rentabilidad Clientes","description":"Client profitability ranking.","operationId":"get_rentabilidad_clientes_api_v1_rentabilidad_clientes_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by period YYYY-MM","title":"Periodo"},"description":"Filter by period YYYY-MM"},{"name":"top","in":"query","required":false,"schema":{"type":"integer","description":"Number of clients to return","default":20,"title":"Top"},"description":"Number of clients to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Rentabilidad Clientes Api V1 Rentabilidad Clientes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rentabilidad/ventas/{ano}":{"get":{"tags":["rentabilidad"],"summary":"Get Analisis Ventas","description":"Monthly sales analysis for a specific year.","operationId":"get_analisis_ventas_api_v1_rentabilidad_ventas__ano__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"ano","in":"path","required":true,"schema":{"type":"integer","title":"Ano"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Analisis Ventas Api V1 Rentabilidad Ventas  Ano  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rentabilidad/ranking":{"get":{"tags":["rentabilidad"],"summary":"Get Ranking Clientes","description":"Top clients ranking by revenue.","operationId":"get_ranking_clientes_api_v1_rentabilidad_ranking_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"top","in":"query","required":false,"schema":{"type":"integer","description":"Number of top clients","default":10,"title":"Top"},"description":"Number of top clients"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Ranking Clientes Api V1 Rentabilidad Ranking Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cobranza/aging":{"get":{"tags":["cobranza"],"summary":"Get Aging","description":"Aging analysis with standard buckets (current, 30, 60, 90+ days).","operationId":"get_aging_api_v1_cobranza_aging_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Aging Api V1 Cobranza Aging Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/cobranza/vencidas":{"get":{"tags":["cobranza"],"summary":"Get Vencidas","description":"List of overdue invoices.","operationId":"get_vencidas_api_v1_cobranza_vencidas_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"dias_min","in":"query","required":false,"schema":{"type":"integer","description":"Minimum overdue days to include","default":1,"title":"Dias Min"},"description":"Minimum overdue days to include"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Vencidas Api V1 Cobranza Vencidas Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cobranza/resumen":{"get":{"tags":["cobranza"],"summary":"Get Resumen","description":"Collection summary statistics.","operationId":"get_resumen_api_v1_cobranza_resumen_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Resumen Api V1 Cobranza Resumen Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/cobranza/morosos":{"get":{"tags":["cobranza"],"summary":"Get Morosos","description":"List of delinquent clients exceeding the days threshold.","operationId":"get_morosos_api_v1_cobranza_morosos_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"dias_umbral","in":"query","required":false,"schema":{"type":"integer","description":"Minimum overdue days threshold","default":30,"title":"Dias Umbral"},"description":"Minimum overdue days threshold"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Morosos Api V1 Cobranza Morosos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conciliacion/movimientos":{"post":{"tags":["conciliacion"],"summary":"Create Movimiento","description":"Register a bank statement entry.","operationId":"create_movimiento_api_v1_conciliacion_movimientos_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovimientoBancarioInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Movimiento Api V1 Conciliacion Movimientos Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["conciliacion"],"summary":"List Movimientos","description":"List bank movements with filters.","operationId":"list_movimientos_api_v1_conciliacion_movimientos_get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM","title":"Periodo"},"description":"YYYY-MM"},{"name":"banco","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Banco"}},{"name":"solo_pendientes","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Solo Pendientes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response List Movimientos Api V1 Conciliacion Movimientos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conciliacion/automatica/{periodo}":{"post":{"tags":["conciliacion"],"summary":"Post Conciliar Auto","description":"Auto-match bank movements with system payments.","operationId":"post_conciliar_auto_api_v1_conciliacion_automatica__periodo__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Post Conciliar Auto Api V1 Conciliacion Automatica  Periodo  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conciliacion/manual":{"post":{"tags":["conciliacion"],"summary":"Post Conciliar Manual","description":"Manually reconcile a bank movement.","operationId":"post_conciliar_manual_api_v1_conciliacion_manual_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConciliacionManualInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Post Conciliar Manual Api V1 Conciliacion Manual Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/conciliacion/resumen/{periodo}":{"get":{"tags":["conciliacion"],"summary":"Get Resumen","description":"Bank reconciliation summary for a period.","operationId":"get_resumen_api_v1_conciliacion_resumen__periodo__get","security":[{"HTTPBearer":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"periodo","in":"path","required":true,"schema":{"type":"string","title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Resumen Api V1 Conciliacion Resumen  Periodo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presupuestos":{"post":{"tags":["presupuestos"],"summary":"Create Presupuesto","description":"Create a budget with monthly lines.","operationId":"create_presupuesto_api_v1_presupuestos_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresupuestoInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Presupuesto Api V1 Presupuestos Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["presupuestos"],"summary":"List Presupuestos","description":"List budgets.","operationId":"list_presupuestos_api_v1_presupuestos_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"ano","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ano"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response List Presupuestos Api V1 Presupuestos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presupuestos/ejecucion/{presupuesto_id}":{"get":{"tags":["presupuestos"],"summary":"Get Ejecucion","description":"Budget execution: budget vs actual by category.","operationId":"get_ejecucion_api_v1_presupuestos_ejecucion__presupuesto_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"presupuesto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Presupuesto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Ejecucion Api V1 Presupuestos Ejecucion  Presupuesto Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presupuestos/variacion/{presupuesto_id}":{"get":{"tags":["presupuestos"],"summary":"Get Variacion","description":"Monthly variance analysis for a budget.","operationId":"get_variacion_api_v1_presupuestos_variacion__presupuesto_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"presupuesto_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Presupuesto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Variacion Api V1 Presupuestos Variacion  Presupuesto Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/centros-costo":{"get":{"tags":["centros-costo"],"summary":"List Centros","description":"List all cost centers.","operationId":"list_centros_api_v1_centros_costo_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response List Centros Api V1 Centros Costo Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]},"post":{"tags":["centros-costo"],"summary":"Create Centro","description":"Create a cost center.","operationId":"create_centro_api_v1_centros_costo_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentroCostoInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Centro Api V1 Centros Costo Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/centros-costo/{centro_id}":{"put":{"tags":["centros-costo"],"summary":"Update Centro","description":"Update a cost center.","operationId":"update_centro_api_v1_centros_costo__centro_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"centro_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Centro Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentroCostoInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Centro Api V1 Centros Costo  Centro Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/centros-costo/asignacion":{"post":{"tags":["centros-costo"],"summary":"Create Asignacion","description":"Register a cost allocation to a center.","operationId":"create_asignacion_api_v1_centros_costo_asignacion_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsignacionInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Asignacion Api V1 Centros Costo Asignacion Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/centros-costo/resumen":{"get":{"tags":["centros-costo"],"summary":"Get Resumen","description":"Cost summary per center.","operationId":"get_resumen_api_v1_centros_costo_resumen_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM","title":"Periodo"},"description":"YYYY-MM"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Resumen Api V1 Centros Costo Resumen Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/centros-costo/detalle/{centro_id}":{"get":{"tags":["centros-costo"],"summary":"Get Detalle","description":"Detailed allocations for a cost center.","operationId":"get_detalle_api_v1_centros_costo_detalle__centro_id__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"centro_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Centro Id"}},{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM","title":"Periodo"},"description":"YYYY-MM"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Detalle Api V1 Centros Costo Detalle  Centro Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/resolver-receptor/{rut}":{"get":{"tags":["ux-helpers"],"summary":"Resolver Receptor Endpoint","description":"Auto-complete receptor data from local contacts or SII.\n\nPriority: local contact DB  SII public lookup.\nReturns data compatible with ReceptorInput for DTE emission.\nIncludes 'fuente' field ('contacto' or 'sii') so frontend knows the source.","operationId":"resolver_receptor_endpoint_api_v1_ux_resolver_receptor__rut__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"rut","in":"path","required":true,"schema":{"type":"string","title":"Rut"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Resolver Receptor Endpoint Api V1 Ux Resolver Receptor  Rut  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/ultimo-dte/{rut}":{"get":{"tags":["ux-helpers"],"summary":"Ultimo Dte Endpoint","description":"Get last DTE emitted to a receptor, ready for duplication.\n\nParses the XML to extract items and receptor data, so the frontend\ncan pre-fill a new DTE emission form with one click.","operationId":"ultimo_dte_endpoint_api_v1_ux_ultimo_dte__rut__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"rut","in":"path","required":true,"schema":{"type":"string","title":"Rut"}},{"name":"tipo_dte","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by DTE type","title":"Tipo Dte"},"description":"Filter by DTE type"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Ultimo Dte Endpoint Api V1 Ux Ultimo Dte  Rut  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/productos-frecuentes/{rut}":{"get":{"tags":["ux-helpers"],"summary":"Productos Frecuentes Endpoint","description":"Suggest frequently invoiced items for a receptor.\n\nAnalyzes DTE history to find the most common items, their last price,\nand total quantities. Useful for quick item selection in the DTE form.","operationId":"productos_frecuentes_endpoint_api_v1_ux_productos_frecuentes__rut__get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"rut","in":"path","required":true,"schema":{"type":"string","title":"Rut"}},{"name":"limite","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Max items to return","default":10,"title":"Limite"},"description":"Max items to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Productos Frecuentes Endpoint Api V1 Ux Productos Frecuentes  Rut  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/alertas-folios":{"get":{"tags":["ux-helpers"],"summary":"Alertas Folios Endpoint","description":"Check folio availability and return alerts.\n\nReturns a list of DTE types with their remaining folios.\nTypes below the threshold are flagged as 'bajo' or 'critico'.","operationId":"alertas_folios_endpoint_api_v1_ux_alertas_folios_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"umbral","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Alert threshold","default":10,"title":"Umbral"},"description":"Alert threshold"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Alertas Folios Endpoint Api V1 Ux Alertas Folios Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/dtes-pendientes":{"get":{"tags":["ux-helpers"],"summary":"Dtes Pendientes Endpoint","description":"List DTEs awaiting SII response.\n\nShows DTEs with estado 'pendiente' or 'enviado', ordered by age.\nDTEs older than 3 days are flagged as 'urgente'.","operationId":"dtes_pendientes_endpoint_api_v1_ux_dtes_pendientes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Dtes Pendientes Endpoint Api V1 Ux Dtes Pendientes Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/ux/enriquecer-emails":{"post":{"tags":["ux-helpers"],"summary":"Enriquecer Emails Endpoint","description":"Bulk-enrich contacts without email using SII data.\n\nDownloads the SII authorized companies CSV (requires active certificate),\nmatches contacts by RUT, and updates their email field.\n\nUse dry_run=true (default) to preview matches first.\nSet dry_run=false to actually update the contacts.","operationId":"enriquecer_emails_endpoint_api_v1_ux_enriquecer_emails_post","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"dry_run","in":"query","required":false,"schema":{"type":"boolean","description":"Preview matches without updating","default":true,"title":"Dry Run"},"description":"Preview matches without updating"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Enriquecer Emails Endpoint Api V1 Ux Enriquecer Emails Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/detectar-duplicados":{"get":{"tags":["ux-helpers"],"summary":"Detectar Duplicados Endpoint","description":"Detect possible duplicate DTEs before emission.\n\nSearches recent DTEs to the same receptor with similar amounts.\nReturns matching DTEs so the user can decide whether to proceed.","operationId":"detectar_duplicados_endpoint_api_v1_ux_detectar_duplicados_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"rut_receptor","in":"query","required":true,"schema":{"type":"string","description":"RUT del receptor","title":"Rut Receptor"},"description":"RUT del receptor"},{"name":"monto_total","in":"query","required":true,"schema":{"type":"integer","minimum":1,"description":"Monto total del DTE a emitir","title":"Monto Total"},"description":"Monto total del DTE a emitir"},{"name":"tipo_dte","in":"query","required":false,"schema":{"type":"integer","description":"Tipo de DTE","default":33,"title":"Tipo Dte"},"description":"Tipo de DTE"},{"name":"dias","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"description":"Ventana de dias a revisar","default":7,"title":"Dias"},"description":"Ventana de dias a revisar"},{"name":"tolerancia","in":"query","required":false,"schema":{"type":"number","maximum":0.5,"minimum":0,"description":"Tolerancia de monto (0.05 = 5%)","default":0.05,"title":"Tolerancia"},"description":"Tolerancia de monto (0.05 = 5%)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Detectar Duplicados Endpoint Api V1 Ux Detectar Duplicados Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/resumen-matutino":{"get":{"tags":["ux-helpers"],"summary":"Resumen Matutino Endpoint","description":"Morning briefing with all pending actions.\n\nReturns in a single call: pending DTEs, expiring quotes,\noverdue invoices, low folios, and certificate status.","operationId":"resumen_matutino_endpoint_api_v1_ux_resumen_matutino_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Resumen Matutino Endpoint Api V1 Ux Resumen Matutino Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/ux/busqueda-global":{"get":{"tags":["ux-helpers"],"summary":"Busqueda Global Endpoint","description":"Search across contacts, products, DTEs, and quotes.\n\nReturns results grouped by entity type.\nMatches by RUT, name, code, or email.","operationId":"busqueda_global_endpoint_api_v1_ux_busqueda_global_get","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":2,"maxLength":100,"description":"Search term","title":"Q"},"description":"Search term"},{"name":"limite","in":"query","required":false,"schema":{"type":"integer","maximum":20,"minimum":1,"description":"Max results per category","default":5,"title":"Limite"},"description":"Max results per category"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Busqueda Global Endpoint Api V1 Ux Busqueda Global Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/calculadora-iva":{"get":{"tags":["ux-helpers"],"summary":"Calculadora Iva Endpoint","description":"Calculate IVA breakdown.\n\n- tipo='neto': monto is net, calculates IVA (19%) and total\n- tipo='bruto': monto includes IVA, calculates net and IVA portion\n- tipo='exento': no IVA, total equals monto","operationId":"calculadora_iva_endpoint_api_v1_ux_calculadora_iva_get","parameters":[{"name":"monto","in":"query","required":true,"schema":{"type":"integer","minimum":0,"description":"Amount in CLP","title":"Monto"},"description":"Amount in CLP"},{"name":"tipo","in":"query","required":false,"schema":{"type":"string","description":"'neto', 'bruto', or 'exento'","default":"neto","title":"Tipo"},"description":"'neto', 'bruto', or 'exento'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Calculadora Iva Endpoint Api V1 Ux Calculadora Iva Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ux/estado-certificado":{"get":{"tags":["ux-helpers"],"summary":"Estado Certificado Endpoint","description":"Check digital certificate expiry status.\n\nReturns certificate info with days remaining and alert level:\n'ok' (> 30 days), 'alerta' (7-30 days), 'critico' (< 7 days), 'expirado'.","operationId":"estado_certificado_endpoint_api_v1_ux_estado_certificado_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Estado Certificado Endpoint Api V1 Ux Estado Certificado Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/ux/siguiente-folio":{"get":{"tags":["ux-helpers"],"summary":"Siguiente Folio Endpoint","description":"Get next available folio for each active DTE type.\n\nReturns the next folio number, available count, and range\nfor each DTE type that has active folios.","operationId":"siguiente_folio_endpoint_api_v1_ux_siguiente_folio_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Siguiente Folio Endpoint Api V1 Ux Siguiente Folio Get"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/mercadopago/connect":{"post":{"tags":["mercadopago"],"summary":"Connect Mercadopago","description":"Initiate OAuth flow to connect MercadoPago account.\n\nPersists client credentials (encrypted) BEFORE returning the authorization\nURL so that ``/callback`` can retrieve them to complete the exchange.\nStores the CSRF *state* token in Redis with a 10-minute TTL.","operationId":"connect_mercadopago_api_v1_mercadopago_connect_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoConnectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoConnectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mercadopago/callback":{"post":{"tags":["mercadopago"],"summary":"Oauth Callback","description":"Handle OAuth callback from MercadoPago.","operationId":"oauth_callback_api_v1_mercadopago_callback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoCallbackRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mercadopago/config":{"get":{"tags":["mercadopago"],"summary":"Get Config","description":"Get MercadoPago configuration status for current company.","operationId":"get_config_api_v1_mercadopago_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MercadoPagoConfigResponse"},{"type":"null"}],"title":"Response Get Config Api V1 Mercadopago Config Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mercadopago/pagos":{"get":{"tags":["mercadopago"],"summary":"List Mp Payments","description":"List MercadoPago payments for current company.","operationId":"list_mp_payments_api_v1_mercadopago_pagos_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response List Mp Payments Api V1 Mercadopago Pagos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mercadopago/sync":{"post":{"tags":["mercadopago"],"summary":"Sync Payments","description":"Manually trigger payment sync for current company.","operationId":"sync_payments_api_v1_mercadopago_sync_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MercadoPagoSyncRequest"},{"type":"null"}],"title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mercadopago/status":{"get":{"tags":["mercadopago"],"summary":"Get Sync Status","description":"Get sync status for all configured companies (admin only).","operationId":"get_sync_status_api_v1_mercadopago_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoStatusResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mercadopago/webhook/register":{"post":{"tags":["mercadopago"],"summary":"Register Webhook","description":"Register webhook URL with MercadoPago for real-time notifications.","operationId":"register_webhook_api_v1_mercadopago_webhook_register_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"webhook_url","in":"query","required":true,"schema":{"type":"string","title":"Webhook Url"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Register Webhook Api V1 Mercadopago Webhook Register Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mercadopago/webhook/unregister":{"delete":{"tags":["mercadopago"],"summary":"Unregister Webhook","description":"Unregister webhook URL from MercadoPago.","operationId":"unregister_webhook_api_v1_mercadopago_webhook_unregister_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Unregister Webhook Api V1 Mercadopago Webhook Unregister Delete"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mercadopago/webhook":{"post":{"tags":["mercadopago-webhook"],"summary":"Receive Webhook","description":"Receive webhook notifications from MercadoPago.\n\n1. Parse the payload and extract ``user_id`` + ``data.id``.\n2. Resolve the company by matching ``user_id``  ``MercadoPagoConfig.mp_user_id``.\n3. Verify the HMAC signature (if ``webhook_secret`` is configured).\n4. Check idempotency via Redis to prevent duplicate processing.\n5. Fetch the full payment via the SDK and delegate to ``handle_webhook_event``.\n6. Always return HTTP 200 so MercadoPago does not retry indefinitely.","operationId":"receive_webhook_api_v1_mercadopago_webhook_post","parameters":[{"name":"X-Signature","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Signature"}},{"name":"X-Request-Id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Request-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Receive Webhook Api V1 Mercadopago Webhook Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/platforms":{"get":{"tags":["marketplace"],"summary":"List Platforms","description":"List available marketplace platforms.","operationId":"list_platforms_api_v1_marketplace_platforms_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"additionalProperties":true,"type":"object"},"type":"array"},"type":"object","title":"Response List Platforms Api V1 Marketplace Platforms Get"}}}}}}},"/api/v1/marketplace/configs":{"get":{"tags":["marketplace"],"summary":"List Configs","description":"List all marketplace configurations for current company.","operationId":"list_configs_api_v1_marketplace_configs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"additionalProperties":true,"type":"object"},"type":"array"},"type":"object","title":"Response List Configs Api V1 Marketplace Configs Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/marketplace/connect/{platform}":{"post":{"tags":["marketplace"],"summary":"Connect Platform","description":"Connect a marketplace platform for the current company.\n\nFor OAuth platforms (MercadoLibre): initiates OAuth flow.\nFor API key platforms (WooCommerce, Falabella): stores credentials.\nFor admin platforms (Medusa): stores admin credentials.","operationId":"connect_platform_api_v1_marketplace_connect__platform__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceConnectRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceConnectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/config/{platform}":{"get":{"tags":["marketplace"],"summary":"Get Config","description":"Get configuration for a specific marketplace platform.","operationId":"get_config_api_v1_marketplace_config__platform__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["marketplace"],"summary":"Disconnect Platform","description":"Disconnect a marketplace platform.","operationId":"disconnect_platform_api_v1_marketplace_config__platform__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Disconnect Platform Api V1 Marketplace Config  Platform  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/{platform}/orders":{"get":{"tags":["marketplace"],"summary":"List Orders","description":"List orders from a specific marketplace platform.","operationId":"list_orders_api_v1_marketplace__platform__orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceOrdersListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/{platform}/orders/{order_id}":{"get":{"tags":["marketplace"],"summary":"Get Order","description":"Get detailed order information from a marketplace.","operationId":"get_order_api_v1_marketplace__platform__orders__order_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}},{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/{platform}/products":{"get":{"tags":["marketplace"],"summary":"List Products","description":"List products from a specific marketplace platform.","operationId":"list_products_api_v1_marketplace__platform__products_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceProductsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/{platform}/products/{product_id}":{"get":{"tags":["marketplace"],"summary":"Get Product","description":"Get detailed product information from a marketplace.","operationId":"get_product_api_v1_marketplace__platform__products__product_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}},{"name":"product_id","in":"path","required":true,"schema":{"type":"string","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/{platform}/stats":{"get":{"tags":["marketplace"],"summary":"Get Stats","description":"Get statistics for a specific marketplace platform.","operationId":"get_stats_api_v1_marketplace__platform__stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/{platform}/sync":{"post":{"tags":["marketplace"],"summary":"Sync Platform","description":"Trigger manual synchronization for a marketplace platform.\n\nEnqueues a background ARQ task to fetch orders, products, and inventory.\nThe endpoint returns immediately  check sync_status via GET /{platform}/stats.","operationId":"sync_platform_api_v1_marketplace__platform__sync_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MarketplaceSyncRequest"},{"type":"null"}],"title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/marketplace/{platform}/sync/logs":{"get":{"tags":["marketplace"],"summary":"Get Sync Logs","description":"Get synchronization history for a marketplace platform.","operationId":"get_sync_logs_api_v1_marketplace__platform__sync_logs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","title":"Platform"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Sync Logs Api V1 Marketplace  Platform  Sync Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ml-envios":{"get":{"tags":["ml-envios"],"summary":"Listar Envios Ml","description":"List MercadoLibre shipments for the company.","operationId":"listar_envios_ml_api_v1_ml_envios_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by estado","title":"Estado"},"description":"Filter by estado"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MLShipmentListItem"},"title":"Response Listar Envios Ml Api V1 Ml Envios Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ml-envios/stats":{"get":{"tags":["ml-envios"],"summary":"Stats Envios Ml","description":"Get ML shipment statistics for the company.","operationId":"stats_envios_ml_api_v1_ml_envios_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Stats Envios Ml Api V1 Ml Envios Stats Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/ml-envios/{envio_id}":{"get":{"tags":["ml-envios"],"summary":"Detalle Envio Ml","description":"Get ML shipment detail. Fetches fresh data from ML API.","operationId":"detalle_envio_ml_api_v1_ml_envios__envio_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"envio_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Envio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MLShipmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ml-envios/{envio_id}/tracking":{"get":{"tags":["ml-envios"],"summary":"Tracking Envio Ml","description":"Get ML shipment tracking events.","operationId":"tracking_envio_ml_api_v1_ml_envios__envio_id__tracking_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"envio_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Envio Id"}},{"name":"refresh","in":"query","required":false,"schema":{"type":"boolean","description":"Force refresh from ML API","default":false,"title":"Refresh"},"description":"Force refresh from ML API"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MLTrackingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ml-envios/{envio_id}/costs":{"get":{"tags":["ml-envios"],"summary":"Costos Envio Ml","description":"Get ML shipment cost breakdown (live from ML API).","operationId":"costos_envio_ml_api_v1_ml_envios__envio_id__costs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"envio_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Envio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MLShipmentCostResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ml-envios/sync":{"post":{"tags":["ml-envios"],"summary":"Sincronizar Envios Ml","description":"Sync ML shipments from cached marketplace orders.\n\nExtracts shipping.id from each ML order, fetches shipment details\nand tracking history from ML API, and persists into EnvioFisico.","operationId":"sincronizar_envios_ml_api_v1_ml_envios_sync_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MLShipmentSyncRequest"},{"type":"null"}],"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MLShipmentSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/plans":{"get":{"tags":["plans"],"summary":"List Plans","description":"List all active public plans with approximate CLP prices.","operationId":"list_plans_api_v1_plans_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PlanResponse"},"type":"array","title":"Response List Plans Api V1 Plans Get"}}}}}}},"/api/v1/plans/{slug}":{"get":{"tags":["plans"],"summary":"Get Plan","description":"Get a specific plan by slug.","operationId":"get_plan_api_v1_plans__slug__get","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/plans/addons":{"get":{"tags":["plans"],"summary":"List Public Addons","description":"List all active addons.","operationId":"list_public_addons_api_v1_plans_addons_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AddonResponse"},"type":"array","title":"Response List Public Addons Api V1 Plans Addons Get"}}}}}}},"/api/v1/billing/subscription":{"get":{"tags":["billing"],"summary":"Get Subscription","description":"Get current company's subscription details.","operationId":"get_subscription_api_v1_billing_subscription_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/subscribe":{"post":{"tags":["billing"],"summary":"Subscribe","description":"Subscribe to a plan. Returns MercadoPago checkout URL.","operationId":"subscribe_api_v1_billing_subscribe_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscribeRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscribeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/change-plan":{"post":{"tags":["billing"],"summary":"Change Plan","description":"Change subscription plan (upgrade/downgrade).","operationId":"change_plan_api_v1_billing_change_plan_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePlanRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/cancel":{"post":{"tags":["billing"],"summary":"Cancel Subscription","description":"Cancel subscription.","operationId":"cancel_subscription_api_v1_billing_cancel_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelSubscriptionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Cancel Subscription Api V1 Billing Cancel Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/reactivate":{"post":{"tags":["billing"],"summary":"Reactivate Subscription","description":"Reactivate a cancelled subscription.","operationId":"reactivate_subscription_api_v1_billing_reactivate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Reactivate Subscription Api V1 Billing Reactivate Post"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/usage":{"get":{"tags":["billing"],"summary":"Get Billing Usage","description":"Get current usage vs plan limits.","operationId":"get_billing_usage_api_v1_billing_usage_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/addons":{"get":{"tags":["billing"],"summary":"List Active Addons","description":"List active addons for the company's subscription.","operationId":"list_active_addons_api_v1_billing_addons_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SubscriptionAddonResponse"},"type":"array","title":"Response List Active Addons Api V1 Billing Addons Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/addons/{slug}/activate":{"post":{"tags":["billing"],"summary":"Activate Addon","description":"Activate a premium addon.","operationId":"activate_addon_api_v1_billing_addons__slug__activate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivateAddonResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/billing/addons/{slug}/deactivate":{"post":{"tags":["billing"],"summary":"Deactivate Addon","description":"Deactivate a premium addon.","operationId":"deactivate_addon_api_v1_billing_addons__slug__deactivate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Deactivate Addon Api V1 Billing Addons  Slug  Deactivate Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/billing/events":{"get":{"tags":["billing"],"summary":"List Billing Events","description":"List billing events for the company.","operationId":"list_billing_events_api_v1_billing_events_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BillingEventResponse"},"title":"Response List Billing Events Api V1 Billing Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/billing/admin/subscriptions":{"get":{"tags":["billing","billing-admin"],"summary":"List All Subscriptions","description":"List all subscriptions (admin only).","operationId":"list_all_subscriptions_api_v1_billing_admin_subscriptions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response List All Subscriptions Api V1 Billing Admin Subscriptions Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/admin/subscriptions/{subscription_id}/override":{"put":{"tags":["billing","billing-admin"],"summary":"Admin Override Subscription","description":"Admin override for a subscription.","operationId":"admin_override_subscription_api_v1_billing_admin_subscriptions__subscription_id__override_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subscription Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminOverrideRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Admin Override Subscription Api V1 Billing Admin Subscriptions  Subscription Id  Override Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/billing/admin/metrics":{"get":{"tags":["billing","billing-admin"],"summary":"Get Billing Metrics","description":"Get billing metrics: MRR, churn, ARPU.","operationId":"get_billing_metrics_api_v1_billing_admin_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillingMetricsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/webhook":{"post":{"tags":["billing-webhook"],"summary":"Billing Webhook","description":"MercadoPago webhook for billing subscription payments.\n\nVerifies HMAC signature, processes payment/preapproval events.","operationId":"billing_webhook_api_v1_billing_webhook_post","parameters":[{"name":"x-request-id","in":"header","required":false,"schema":{"type":"string","default":"","title":"X-Request-Id"}},{"name":"x-signature","in":"header","required":false,"schema":{"type":"string","default":"","title":"X-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Billing Webhook Api V1 Billing Webhook Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/google":{"post":{"tags":["auth"],"summary":"Google Login","description":"Authenticate via Google ID token.\n\nFlow:\n1. Verify ID token with Google's tokeninfo endpoint\n2. Validate audience matches our client ID\n3. Find existing user by email or create a new one\n4. Return JWT + user + companies (same format as /usuarios/login)","operationId":"google_login_api_v1_auth_google_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleAuthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Health Get"}}}}}}}},"components":{"schemas":{"ActivateAddonResponse":{"properties":{"subscription_addon_id":{"type":"string","format":"uuid","title":"Subscription Addon Id"},"init_point":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Init Point","description":"MP Checkout Pro URL for addon payment"}},"type":"object","required":["subscription_addon_id"],"title":"ActivateAddonResponse"},"AcuseRequest":{"properties":{"accion":{"type":"string","title":"Accion"},"motivo":{"type":"string","title":"Motivo","default":""}},"type":"object","required":["accion"],"title":"AcuseRequest"},"AcuseResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"estado_acuse":{"type":"string","title":"Estado Acuse"},"track_id_acuse":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Track Id Acuse"}},"type":"object","required":["id","estado_acuse","track_id_acuse"],"title":"AcuseResponse"},"AddonResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"slug":{"type":"string","title":"Slug"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"price_uf":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Price Uf"},"price_clp_approx":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Price Clp Approx"},"features":{"additionalProperties":true,"type":"object","title":"Features"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","slug","name","description","price_uf","features","is_active"],"title":"AddonResponse"},"AdminOverrideRequest":{"properties":{"admin_override":{"type":"boolean","title":"Admin Override"},"admin_notes":{"type":"string","title":"Admin Notes","default":""},"plan_slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plan Slug"},"status":{"anyOf":[{"type":"string","pattern":"^(trialing|active|past_due|suspended|cancelled)$"},{"type":"null"}],"title":"Status"}},"type":"object","required":["admin_override"],"title":"AdminOverrideRequest"},"AgingReport":{"properties":{"al_dia":{"type":"integer","title":"Al Dia"},"vencido_1_30":{"type":"integer","title":"Vencido 1 30"},"vencido_31_60":{"type":"integer","title":"Vencido 31 60"},"vencido_61_90":{"type":"integer","title":"Vencido 61 90"},"vencido_90_plus":{"type":"integer","title":"Vencido 90 Plus"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["al_dia","vencido_1_30","vencido_31_60","vencido_61_90","vencido_90_plus","total"],"title":"AgingReport"},"AmbienteUpdate":{"properties":{"ambiente":{"type":"integer","enum":[0,1],"title":"Ambiente"}},"type":"object","required":["ambiente"],"title":"AmbienteUpdate"},"ApiKeyCreate":{"properties":{"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"ApiKeyCreate"},"ApiKeyCreated":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"key_prefix":{"type":"string","title":"Key Prefix"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"raw_key":{"type":"string","title":"Raw Key"}},"type":"object","required":["id","name","key_prefix","is_active","created_at","raw_key"],"title":"ApiKeyCreated","description":"Returned only on creation - includes the raw key (shown once)."},"AsientoInput":{"properties":{"fecha":{"type":"string","title":"Fecha"},"glosa":{"type":"string","title":"Glosa"},"tipo":{"type":"string","title":"Tipo","default":"manual"},"lineas":{"items":{"$ref":"#/components/schemas/LineaAsientoInput"},"type":"array","title":"Lineas"},"dte_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Dte Id"},"dte_recibido_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Dte Recibido Id"}},"type":"object","required":["fecha","glosa","lineas"],"title":"AsientoInput"},"AsignacionInput":{"properties":{"centro_costo_id":{"type":"string","format":"uuid","title":"Centro Costo Id"},"fecha":{"type":"string","title":"Fecha"},"concepto":{"type":"string","title":"Concepto"},"monto":{"type":"integer","title":"Monto"},"tipo_gasto":{"type":"string","title":"Tipo Gasto","default":"gasto_operacional"},"referencia_tipo":{"type":"string","title":"Referencia Tipo","default":""},"referencia_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Referencia Id"},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["centro_costo_id","fecha","concepto","monto"],"title":"AsignacionInput"},"AssignCompanyRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"rol":{"type":"string","enum":["admin","contador","vendedor","readonly"],"title":"Rol","default":"readonly"},"is_default":{"type":"boolean","title":"Is Default","default":false}},"type":"object","required":["company_id"],"title":"AssignCompanyRequest"},"BillingEventResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"event_type":{"type":"string","title":"Event Type"},"amount_uf":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Amount Uf"},"amount_clp":{"type":"integer","title":"Amount Clp"},"uf_rate":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Uf Rate"},"currency":{"type":"string","title":"Currency"},"plan_slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plan Slug"},"addon_slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Addon Slug"},"mp_payment_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mp Payment Id"},"mp_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mp Status"},"dte_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Dte Id"},"description":{"type":"string","title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","company_id","event_type","amount_uf","amount_clp","uf_rate","currency","description","created_at"],"title":"BillingEventResponse"},"BillingMetricsResponse":{"properties":{"total_subscriptions":{"type":"integer","title":"Total Subscriptions"},"active_subscriptions":{"type":"integer","title":"Active Subscriptions"},"trialing_subscriptions":{"type":"integer","title":"Trialing Subscriptions"},"mrr_uf":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Mrr Uf","description":"Monthly Recurring Revenue in UF"},"mrr_clp":{"type":"integer","title":"Mrr Clp","description":"MRR in CLP (approximate)"},"churn_rate":{"type":"number","title":"Churn Rate","description":"30-day churn rate percentage"},"arpu_uf":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Arpu Uf","description":"Average Revenue Per User in UF"}},"type":"object","required":["total_subscriptions","active_subscriptions","trialing_subscriptions","mrr_uf","mrr_clp","churn_rate","arpu_uf"],"title":"BillingMetricsResponse"},"BodegaInput":{"properties":{"nombre":{"type":"string","title":"Nombre"},"codigo":{"type":"string","title":"Codigo","default":""},"direccion":{"type":"string","title":"Direccion","default":""},"comuna":{"type":"string","title":"Comuna","default":""},"ciudad":{"type":"string","title":"Ciudad","default":""},"responsable":{"type":"string","title":"Responsable","default":""},"es_principal":{"type":"boolean","title":"Es Principal","default":false},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["nombre"],"title":"BodegaInput"},"Body_upload_certificate_api_v1_admin_companies__company_id__certificates_post":{"properties":{"pfx_file":{"type":"string","format":"binary","title":"Pfx File"}},"type":"object","required":["pfx_file"],"title":"Body_upload_certificate_api_v1_admin_companies__company_id__certificates_post"},"BoletaEmitirRequest":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte","default":39},"forma_pago":{"anyOf":[{"type":"integer","maximum":3.0,"minimum":1.0},{"type":"null"}],"title":"Forma Pago"},"receptor":{"$ref":"#/components/schemas/ReceptorInput"},"items":{"items":{"$ref":"#/components/schemas/ItemInput"},"type":"array","minItems":1,"title":"Items"},"referencias":{"items":{"$ref":"#/components/schemas/ReferenciaInput"},"type":"array","title":"Referencias","default":[]}},"type":"object","required":["receptor","items"],"title":"BoletaEmitirRequest","description":"Simplified boleta request (receptor is optional for consumer sales)."},"CalcularTarifaRequest":{"properties":{"peso":{"type":"number","exclusiveMinimum":0.0,"title":"Peso","description":"Weight in kg"},"dimensiones":{"$ref":"#/components/schemas/DimensionesInput"},"comuna":{"type":"string","maxLength":100,"minLength":1,"title":"Comuna"},"cod_servicio":{"type":"string","pattern":"^(24|3)$","title":"Cod Servicio","default":"24"}},"type":"object","required":["peso","dimensiones","comuna"],"title":"CalcularTarifaRequest","description":"Request to calculate shipping rate."},"CalcularTarifaResponse":{"properties":{"comuna":{"type":"string","title":"Comuna"},"tarifa":{"type":"integer","title":"Tarifa"},"rango_usado":{"type":"string","title":"Rango Usado"},"peso_real":{"type":"number","title":"Peso Real"},"peso_volumetrico":{"type":"number","title":"Peso Volumetrico"},"peso_facturable":{"type":"number","title":"Peso Facturable"}},"type":"object","required":["comuna","tarifa","rango_usado","peso_real","peso_volumetrico","peso_facturable"],"title":"CalcularTarifaResponse","description":"Response with calculated shipping rate."},"CambiarEstadoRequest":{"properties":{"estado":{"type":"string","title":"Estado"}},"type":"object","required":["estado"],"title":"CambiarEstadoRequest"},"CancelSubscriptionRequest":{"properties":{"reason":{"type":"string","maxLength":500,"title":"Reason","default":""},"immediate":{"type":"boolean","title":"Immediate","description":"Cancel immediately vs at end of period","default":false}},"type":"object","title":"CancelSubscriptionRequest"},"CentroCostoInput":{"properties":{"codigo":{"type":"string","title":"Codigo"},"nombre":{"type":"string","title":"Nombre"},"responsable":{"type":"string","title":"Responsable","default":""},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["codigo","nombre"],"title":"CentroCostoInput"},"CertificateResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"rut_firmante":{"type":"string","title":"Rut Firmante"},"nombre_firmante":{"type":"string","title":"Nombre Firmante"},"valid_from":{"type":"string","format":"date-time","title":"Valid From"},"valid_to":{"type":"string","format":"date-time","title":"Valid To"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","company_id","rut_firmante","nombre_firmante","valid_from","valid_to","is_active","created_at"],"title":"CertificateResponse"},"CesionRequest":{"properties":{"dte_id":{"type":"string","format":"uuid","title":"Dte Id"},"cesionario_rut":{"type":"string","title":"Cesionario Rut"},"cesionario_nombre":{"type":"string","title":"Cesionario Nombre"},"monto_cesion":{"type":"integer","title":"Monto Cesion"}},"type":"object","required":["dte_id","cesionario_rut","cesionario_nombre","monto_cesion"],"title":"CesionRequest"},"ChangePasswordRequest":{"properties":{"current_password":{"type":"string","minLength":1,"title":"Current Password"},"new_password":{"type":"string","maxLength":128,"minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"ChangePasswordRequest"},"ChangePlanRequest":{"properties":{"plan_slug":{"type":"string","maxLength":50,"minLength":2,"title":"Plan Slug"},"billing_cycle":{"anyOf":[{"type":"string","pattern":"^(monthly|yearly)$"},{"type":"null"}],"title":"Billing Cycle"}},"type":"object","required":["plan_slug"],"title":"ChangePlanRequest"},"CompanyCreate":{"properties":{"rut":{"type":"string","title":"Rut"},"razon_social":{"type":"string","maxLength":100,"minLength":1,"title":"Razon Social"},"giro":{"type":"string","maxLength":80,"minLength":1,"title":"Giro"},"actividad_economica":{"type":"integer","minimum":1.0,"title":"Actividad Economica"},"direccion":{"type":"string","maxLength":70,"minLength":1,"title":"Direccion"},"comuna":{"type":"string","maxLength":20,"minLength":1,"title":"Comuna"},"ciudad":{"type":"string","title":"Ciudad","default":""},"fecha_resolucion":{"type":"string","title":"Fecha Resolucion"},"numero_resolucion":{"type":"integer","minimum":0.0,"title":"Numero Resolucion","default":0},"ambiente":{"type":"integer","enum":[0,1],"title":"Ambiente","default":0},"regimen_tributario":{"type":"string","enum":["14D3","14D8","14A","presunta"],"title":"Regimen Tributario","default":"14D3"}},"type":"object","required":["rut","razon_social","giro","actividad_economica","direccion","comuna","fecha_resolucion"],"title":"CompanyCreate"},"CompanyResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"rut":{"type":"string","title":"Rut"},"razon_social":{"type":"string","title":"Razon Social"},"giro":{"type":"string","title":"Giro"},"actividad_economica":{"type":"integer","title":"Actividad Economica"},"direccion":{"type":"string","title":"Direccion"},"comuna":{"type":"string","title":"Comuna"},"ciudad":{"type":"string","title":"Ciudad"},"fecha_resolucion":{"type":"string","title":"Fecha Resolucion"},"numero_resolucion":{"type":"integer","title":"Numero Resolucion"},"ambiente":{"type":"integer","title":"Ambiente"},"regimen_tributario":{"type":"string","title":"Regimen Tributario"},"tasa_ppm":{"type":"number","title":"Tasa Ppm"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","rut","razon_social","giro","actividad_economica","direccion","comuna","ciudad","fecha_resolucion","numero_resolucion","ambiente","regimen_tributario","tasa_ppm","is_active","created_at"],"title":"CompanyResponse"},"CompanyRole":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"rol":{"type":"string","title":"Rol"},"is_default":{"type":"boolean","title":"Is Default"}},"type":"object","required":["id","rol","is_default"],"title":"CompanyRole"},"ConciliacionManualInput":{"properties":{"movimiento_id":{"type":"string","format":"uuid","title":"Movimiento Id"},"pago_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pago Id"}},"type":"object","required":["movimiento_id"],"title":"ConciliacionManualInput"},"ContactoCreate":{"properties":{"rut":{"type":"string","title":"Rut"},"razon_social":{"type":"string","title":"Razon Social"},"nombre_fantasia":{"type":"string","title":"Nombre Fantasia","default":""},"giro":{"type":"string","title":"Giro","default":""},"direccion":{"type":"string","title":"Direccion","default":""},"comuna":{"type":"string","title":"Comuna","default":""},"ciudad":{"type":"string","title":"Ciudad","default":""},"telefono":{"type":"string","title":"Telefono","default":""},"email":{"type":"string","title":"Email","default":""},"actividad_economica":{"type":"integer","title":"Actividad Economica","default":0},"es_cliente":{"type":"boolean","title":"Es Cliente","default":false},"es_proveedor":{"type":"boolean","title":"Es Proveedor","default":false},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["rut","razon_social"],"title":"ContactoCreate"},"ContactoListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"rut":{"type":"string","title":"Rut"},"razon_social":{"type":"string","title":"Razon Social"},"nombre_fantasia":{"type":"string","title":"Nombre Fantasia"},"giro":{"type":"string","title":"Giro"},"direccion":{"type":"string","title":"Direccion","default":""},"comuna":{"type":"string","title":"Comuna","default":""},"ciudad":{"type":"string","title":"Ciudad","default":""},"telefono":{"type":"string","title":"Telefono"},"email":{"type":"string","title":"Email"},"es_cliente":{"type":"boolean","title":"Es Cliente"},"es_proveedor":{"type":"boolean","title":"Es Proveedor"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","rut","razon_social","nombre_fantasia","giro","telefono","email","es_cliente","es_proveedor","is_active"],"title":"ContactoListItem"},"ContactoListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"items":{"items":{"$ref":"#/components/schemas/ContactoListItem"},"type":"array","title":"Items"}},"type":"object","required":["total","page","per_page","items"],"title":"ContactoListResponse"},"ContactoResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"rut":{"type":"string","title":"Rut"},"razon_social":{"type":"string","title":"Razon Social"},"nombre_fantasia":{"type":"string","title":"Nombre Fantasia"},"giro":{"type":"string","title":"Giro"},"direccion":{"type":"string","title":"Direccion"},"comuna":{"type":"string","title":"Comuna"},"ciudad":{"type":"string","title":"Ciudad"},"telefono":{"type":"string","title":"Telefono"},"email":{"type":"string","title":"Email"},"actividad_economica":{"type":"integer","title":"Actividad Economica"},"es_cliente":{"type":"boolean","title":"Es Cliente"},"es_proveedor":{"type":"boolean","title":"Es Proveedor"},"notas":{"type":"string","title":"Notas"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","rut","razon_social","nombre_fantasia","giro","direccion","comuna","ciudad","telefono","email","actividad_economica","es_cliente","es_proveedor","notas","is_active","created_at","updated_at"],"title":"ContactoResponse"},"ContactoUpdate":{"properties":{"razon_social":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Razon Social"},"nombre_fantasia":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre Fantasia"},"giro":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Giro"},"direccion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion"},"comuna":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comuna"},"ciudad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ciudad"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"actividad_economica":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Actividad Economica"},"es_cliente":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Cliente"},"es_proveedor":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Proveedor"},"notas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notas"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ContactoUpdate"},"ConvertirRequest":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte","default":33}},"type":"object","title":"ConvertirRequest"},"CotizacionCreate":{"properties":{"rut_receptor":{"type":"string","title":"Rut Receptor"},"razon_social_receptor":{"type":"string","title":"Razon Social Receptor"},"giro_receptor":{"type":"string","title":"Giro Receptor","default":""},"direccion_receptor":{"type":"string","title":"Direccion Receptor","default":""},"comuna_receptor":{"type":"string","title":"Comuna Receptor","default":""},"items":{"items":{"$ref":"#/components/schemas/ItemInput"},"type":"array","title":"Items"},"fecha_validez":{"type":"string","title":"Fecha Validez"},"notas":{"type":"string","title":"Notas","default":""},"condiciones_pago":{"type":"string","title":"Condiciones Pago","default":""},"contacto_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contacto Id"}},"type":"object","required":["rut_receptor","razon_social_receptor","items","fecha_validez"],"title":"CotizacionCreate"},"CotizacionListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"numero":{"type":"integer","title":"Numero"},"rut_receptor":{"type":"string","title":"Rut Receptor"},"razon_social_receptor":{"type":"string","title":"Razon Social Receptor"},"monto_total":{"type":"integer","title":"Monto Total"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_validez":{"type":"string","title":"Fecha Validez"},"estado":{"type":"string","title":"Estado"}},"type":"object","required":["id","numero","rut_receptor","razon_social_receptor","monto_total","fecha_emision","fecha_validez","estado"],"title":"CotizacionListItem"},"CotizacionListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"items":{"items":{"$ref":"#/components/schemas/CotizacionListItem"},"type":"array","title":"Items"}},"type":"object","required":["total","page","per_page","items"],"title":"CotizacionListResponse"},"CotizacionUpdate":{"properties":{"rut_receptor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rut Receptor"},"razon_social_receptor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Razon Social Receptor"},"giro_receptor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Giro Receptor"},"direccion_receptor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion Receptor"},"comuna_receptor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comuna Receptor"},"items":{"anyOf":[{"items":{"$ref":"#/components/schemas/ItemInput"},"type":"array"},{"type":"null"}],"title":"Items"},"fecha_validez":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fecha Validez"},"notas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notas"},"condiciones_pago":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Condiciones Pago"},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},"type":"object","title":"CotizacionUpdate"},"CuentaCobrarCreate":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"rut_deudor":{"type":"string","title":"Rut Deudor"},"razon_social_deudor":{"type":"string","title":"Razon Social Deudor"},"monto_total":{"type":"integer","title":"Monto Total"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_vencimiento":{"type":"string","title":"Fecha Vencimiento"},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["tipo_dte","folio","rut_deudor","razon_social_deudor","monto_total","fecha_emision","fecha_vencimiento"],"title":"CuentaCobrarCreate"},"CuentaCobrarListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"rut_deudor":{"type":"string","title":"Rut Deudor"},"razon_social_deudor":{"type":"string","title":"Razon Social Deudor"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_pendiente":{"type":"integer","title":"Monto Pendiente"},"fecha_vencimiento":{"type":"string","title":"Fecha Vencimiento"},"estado":{"type":"string","title":"Estado"}},"type":"object","required":["id","tipo_dte","folio","rut_deudor","razon_social_deudor","monto_total","monto_pendiente","fecha_vencimiento","estado"],"title":"CuentaCobrarListItem"},"CuentaCobrarResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"contacto_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contacto Id"},"dte_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Dte Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"rut_deudor":{"type":"string","title":"Rut Deudor"},"razon_social_deudor":{"type":"string","title":"Razon Social Deudor"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_pagado":{"type":"integer","title":"Monto Pagado"},"monto_pendiente":{"type":"integer","title":"Monto Pendiente"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_vencimiento":{"type":"string","title":"Fecha Vencimiento"},"estado":{"type":"string","title":"Estado"},"notas":{"type":"string","title":"Notas"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","contacto_id","dte_id","tipo_dte","folio","rut_deudor","razon_social_deudor","monto_total","monto_pagado","monto_pendiente","fecha_emision","fecha_vencimiento","estado","notas","created_at"],"title":"CuentaCobrarResponse"},"CuentaPagarCreate":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"rut_acreedor":{"type":"string","title":"Rut Acreedor"},"razon_social_acreedor":{"type":"string","title":"Razon Social Acreedor"},"monto_total":{"type":"integer","title":"Monto Total"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_vencimiento":{"type":"string","title":"Fecha Vencimiento"},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["tipo_dte","folio","rut_acreedor","razon_social_acreedor","monto_total","fecha_emision","fecha_vencimiento"],"title":"CuentaPagarCreate"},"CuentaPagarListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"rut_acreedor":{"type":"string","title":"Rut Acreedor"},"razon_social_acreedor":{"type":"string","title":"Razon Social Acreedor"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_pendiente":{"type":"integer","title":"Monto Pendiente"},"fecha_vencimiento":{"type":"string","title":"Fecha Vencimiento"},"estado":{"type":"string","title":"Estado"}},"type":"object","required":["id","tipo_dte","folio","rut_acreedor","razon_social_acreedor","monto_total","monto_pendiente","fecha_vencimiento","estado"],"title":"CuentaPagarListItem"},"CuentaPagarResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"contacto_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contacto Id"},"dte_recibido_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Dte Recibido Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"rut_acreedor":{"type":"string","title":"Rut Acreedor"},"razon_social_acreedor":{"type":"string","title":"Razon Social Acreedor"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_pagado":{"type":"integer","title":"Monto Pagado"},"monto_pendiente":{"type":"integer","title":"Monto Pendiente"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_vencimiento":{"type":"string","title":"Fecha Vencimiento"},"estado":{"type":"string","title":"Estado"},"notas":{"type":"string","title":"Notas"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","contacto_id","dte_recibido_id","tipo_dte","folio","rut_acreedor","razon_social_acreedor","monto_total","monto_pagado","monto_pendiente","fecha_emision","fecha_vencimiento","estado","notas","created_at"],"title":"CuentaPagarResponse"},"CuentasListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"items":{"anyOf":[{"items":{"$ref":"#/components/schemas/CuentaCobrarListItem"},"type":"array"},{"items":{"$ref":"#/components/schemas/CuentaPagarListItem"},"type":"array"}],"title":"Items"}},"type":"object","required":["total","page","per_page","items"],"title":"CuentasListResponse"},"DTEDetail":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"rut_receptor":{"type":"string","title":"Rut Receptor"},"razon_social_receptor":{"type":"string","title":"Razon Social Receptor"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_exento":{"type":"integer","title":"Monto Exento"},"monto_neto":{"type":"integer","title":"Monto Neto"},"monto_iva":{"type":"integer","title":"Monto Iva"},"track_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Track Id"},"estado_sii":{"type":"string","title":"Estado Sii"},"sii_estado_detalle":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sii Estado Detalle"},"xml_base64":{"type":"string","title":"Xml Base64"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","tipo_dte","folio","fecha_emision","rut_receptor","razon_social_receptor","monto_total","monto_exento","monto_neto","monto_iva","track_id","estado_sii","xml_base64","created_at"],"title":"DTEDetail"},"DTEListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"rut_receptor":{"type":"string","title":"Rut Receptor"},"razon_social_receptor":{"type":"string","title":"Razon Social Receptor"},"monto_total":{"type":"integer","title":"Monto Total"},"estado_sii":{"type":"string","title":"Estado Sii"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","tipo_dte","folio","fecha_emision","rut_receptor","razon_social_receptor","monto_total","estado_sii","created_at"],"title":"DTEListItem"},"DTEListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"items":{"items":{"$ref":"#/components/schemas/DTEListItem"},"type":"array","title":"Items"}},"type":"object","required":["total","page","per_page","items"],"title":"DTEListResponse"},"DTERecibidoDetail":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"rut_emisor":{"type":"string","title":"Rut Emisor"},"razon_social_emisor":{"type":"string","title":"Razon Social Emisor"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_recepcion":{"type":"string","format":"date-time","title":"Fecha Recepcion"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_exento":{"type":"integer","title":"Monto Exento"},"monto_neto":{"type":"integer","title":"Monto Neto"},"monto_iva":{"type":"integer","title":"Monto Iva"},"estado_acuse":{"type":"string","title":"Estado Acuse"},"origen":{"type":"string","title":"Origen"},"has_xml":{"type":"boolean","title":"Has Xml"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"xml_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Xml Base64"}},"type":"object","required":["id","rut_emisor","razon_social_emisor","tipo_dte","folio","fecha_emision","fecha_recepcion","monto_total","monto_exento","monto_neto","monto_iva","estado_acuse","origen","has_xml","created_at","xml_base64"],"title":"DTERecibidoDetail"},"DTERecibidoItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"rut_emisor":{"type":"string","title":"Rut Emisor"},"razon_social_emisor":{"type":"string","title":"Razon Social Emisor"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_recepcion":{"type":"string","format":"date-time","title":"Fecha Recepcion"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_exento":{"type":"integer","title":"Monto Exento"},"monto_neto":{"type":"integer","title":"Monto Neto"},"monto_iva":{"type":"integer","title":"Monto Iva"},"estado_acuse":{"type":"string","title":"Estado Acuse"},"origen":{"type":"string","title":"Origen"},"has_xml":{"type":"boolean","title":"Has Xml"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","rut_emisor","razon_social_emisor","tipo_dte","folio","fecha_emision","fecha_recepcion","monto_total","monto_exento","monto_neto","monto_iva","estado_acuse","origen","has_xml","created_at"],"title":"DTERecibidoItem"},"DTERecibidoListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"items":{"items":{"$ref":"#/components/schemas/DTERecibidoItem"},"type":"array","title":"Items"}},"type":"object","required":["total","page","per_page","items"],"title":"DTERecibidoListResponse"},"DashboardMetrics":{"properties":{"dtes_hoy":{"type":"integer","title":"Dtes Hoy"},"facturado_mes":{"type":"integer","title":"Facturado Mes"},"folios_disponibles":{"type":"integer","title":"Folios Disponibles"},"dtes_rechazados":{"type":"integer","title":"Dtes Rechazados"},"notificaciones_sin_leer":{"type":"integer","title":"Notificaciones Sin Leer"},"cuentas_por_cobrar_pendiente":{"type":"integer","title":"Cuentas Por Cobrar Pendiente"},"cotizaciones_pendientes":{"type":"integer","title":"Cotizaciones Pendientes"}},"type":"object","required":["dtes_hoy","facturado_mes","folios_disponibles","dtes_rechazados","notificaciones_sin_leer","cuentas_por_cobrar_pendiente","cotizaciones_pendientes"],"title":"DashboardMetrics"},"DashboardResponse":{"properties":{"metricas":{"$ref":"#/components/schemas/DashboardMetrics"},"documentos_recientes":{"items":{"$ref":"#/components/schemas/DocumentoReciente"},"type":"array","title":"Documentos Recientes"},"estado_folios":{"items":{"$ref":"#/components/schemas/FolioEstado"},"type":"array","title":"Estado Folios"},"emision_mensual":{"items":{"$ref":"#/components/schemas/EmisionDiaria"},"type":"array","title":"Emision Mensual"}},"type":"object","required":["metricas","documentos_recientes","estado_folios","emision_mensual"],"title":"DashboardResponse"},"DimensionesInput":{"properties":{"largo":{"type":"number","exclusiveMinimum":0.0,"title":"Largo","description":"Length in cm"},"ancho":{"type":"number","exclusiveMinimum":0.0,"title":"Ancho","description":"Width in cm"},"alto":{"type":"number","exclusiveMinimum":0.0,"title":"Alto","description":"Height in cm"}},"type":"object","required":["largo","ancho","alto"],"title":"DimensionesInput","description":"Package dimensions in cm."},"DocumentoReciente":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"rut_receptor":{"type":"string","title":"Rut Receptor"},"razon_social_receptor":{"type":"string","title":"Razon Social Receptor"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"monto_total":{"type":"integer","title":"Monto Total"},"estado_sii":{"type":"string","title":"Estado Sii"}},"type":"object","required":["id","tipo_dte","folio","rut_receptor","razon_social_receptor","fecha_emision","monto_total","estado_sii"],"title":"DocumentoReciente"},"EmisionDiaria":{"properties":{"fecha":{"type":"string","title":"Fecha"},"cantidad":{"type":"integer","title":"Cantidad"},"monto_total":{"type":"integer","title":"Monto Total"}},"type":"object","required":["fecha","cantidad","monto_total"],"title":"EmisionDiaria"},"EmitirDTERequest":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte"},"forma_pago":{"anyOf":[{"type":"integer","maximum":3.0,"minimum":1.0},{"type":"null"}],"title":"Forma Pago"},"receptor":{"$ref":"#/components/schemas/ReceptorInput"},"items":{"items":{"$ref":"#/components/schemas/ItemInput"},"type":"array","minItems":1,"title":"Items"},"referencias":{"items":{"$ref":"#/components/schemas/ReferenciaInput"},"type":"array","title":"Referencias","default":[]}},"type":"object","required":["tipo_dte","receptor","items"],"title":"EmitirDTERequest"},"EmitirDTEResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio":{"type":"integer","title":"Folio"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"monto_total":{"type":"integer","title":"Monto Total"},"monto_exento":{"type":"integer","title":"Monto Exento"},"monto_neto":{"type":"integer","title":"Monto Neto"},"monto_iva":{"type":"integer","title":"Monto Iva"},"track_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Track Id"},"estado_sii":{"type":"string","title":"Estado Sii"}},"type":"object","required":["id","tipo_dte","folio","fecha_emision","monto_total","monto_exento","monto_neto","monto_iva","track_id","estado_sii"],"title":"EmitirDTEResponse"},"EnvioFisicoCreate":{"properties":{"guia_despacho_id":{"type":"string","format":"uuid","title":"Guia Despacho Id"},"cod_servicio":{"type":"string","pattern":"^(24|3)$","title":"Cod Servicio","default":"24"}},"type":"object","required":["guia_despacho_id"],"title":"EnvioFisicoCreate","description":"Request to create physical shipment."},"EnvioFisicoResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"numero_envio":{"type":"string","title":"Numero Envio"},"carrier":{"type":"string","title":"Carrier"},"cod_servicio":{"type":"string","title":"Cod Servicio"},"estado":{"type":"string","title":"Estado"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","numero_envio","carrier","cod_servicio","estado","created_at"],"title":"EnvioFisicoResponse","description":"Response with created shipment."},"ErrorTarifaResponse":{"properties":{"tipo":{"type":"string","title":"Tipo"},"mensaje":{"type":"string","title":"Mensaje"}},"type":"object","required":["tipo","mensaje"],"title":"ErrorTarifaResponse","description":"Error response for rate calculation."},"FolioEstado":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte"},"nombre":{"type":"string","title":"Nombre"},"usados":{"type":"integer","title":"Usados"},"total":{"type":"integer","title":"Total"},"disponibles":{"type":"integer","title":"Disponibles"},"porcentaje_uso":{"type":"number","title":"Porcentaje Uso"},"estado":{"type":"string","title":"Estado"}},"type":"object","required":["tipo_dte","nombre","usados","total","disponibles","porcentaje_uso","estado"],"title":"FolioEstado"},"FolioStatusItem":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio_desde":{"type":"integer","title":"Folio Desde"},"folio_hasta":{"type":"integer","title":"Folio Hasta"},"folio_actual":{"type":"integer","title":"Folio Actual"},"total":{"type":"integer","title":"Total"},"usados":{"type":"integer","title":"Usados"},"disponibles":{"type":"integer","title":"Disponibles"},"estado":{"type":"string","title":"Estado"},"fecha_vencimiento":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fecha Vencimiento"}},"type":"object","required":["tipo_dte","folio_desde","folio_hasta","folio_actual","total","usados","disponibles","estado"],"title":"FolioStatusItem"},"FolioStatusResponse":{"properties":{"folios":{"items":{"$ref":"#/components/schemas/FolioStatusItem"},"type":"array","title":"Folios"}},"type":"object","required":["folios"],"title":"FolioStatusResponse"},"GiroCreate":{"properties":{"codigo_actividad":{"type":"integer","title":"Codigo Actividad"},"descripcion":{"type":"string","title":"Descripcion"},"giro_dte":{"type":"string","title":"Giro Dte"},"es_principal":{"type":"boolean","title":"Es Principal","default":false},"template_pdf":{"type":"string","title":"Template Pdf","default":"default"},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["codigo_actividad","descripcion","giro_dte"],"title":"GiroCreate"},"GiroResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"codigo_actividad":{"type":"integer","title":"Codigo Actividad"},"descripcion":{"type":"string","title":"Descripcion"},"giro_dte":{"type":"string","title":"Giro Dte"},"es_principal":{"type":"boolean","title":"Es Principal"},"template_pdf":{"type":"string","title":"Template Pdf"},"notas":{"type":"string","title":"Notas"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","codigo_actividad","descripcion","giro_dte","es_principal","template_pdf","notas","is_active"],"title":"GiroResponse"},"GiroUpdate":{"properties":{"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"giro_dte":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Giro Dte"},"es_principal":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Principal"},"template_pdf":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Pdf"},"notas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notas"}},"type":"object","title":"GiroUpdate"},"GoogleAuthRequest":{"properties":{"id_token":{"type":"string","title":"Id Token"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["id_token"],"title":"GoogleAuthRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IntercambioRequest":{"properties":{"dte_id":{"type":"string","format":"uuid","title":"Dte Id"},"email_destino":{"type":"string","title":"Email Destino"},"cc":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Cc"}},"type":"object","required":["dte_id","email_destino"],"title":"IntercambioRequest"},"ItemInput":{"properties":{"nombre":{"type":"string","maxLength":80,"minLength":1,"title":"Nombre"},"cantidad":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Cantidad"},"unidad_medida":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unidad Medida"},"precio_unitario":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Precio Unitario"},"monto_item":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Monto Item"},"indicador_exento":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Indicador Exento"}},"type":"object","required":["nombre"],"title":"ItemInput"},"LineaAsientoInput":{"properties":{"cuenta":{"type":"string","title":"Cuenta"},"debe":{"type":"integer","title":"Debe","default":0},"haber":{"type":"integer","title":"Haber","default":0},"descripcion":{"type":"string","title":"Descripcion","default":""}},"type":"object","required":["cuenta"],"title":"LineaAsientoInput"},"LineaPresupuestoInput":{"properties":{"categoria":{"type":"string","title":"Categoria"},"subcategoria":{"type":"string","title":"Subcategoria","default":""},"cuenta_codigo":{"type":"string","title":"Cuenta Codigo","default":""},"mes":{"type":"string","title":"Mes"},"monto_presupuestado":{"type":"integer","title":"Monto Presupuestado"},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["categoria","mes","monto_presupuestado"],"title":"LineaPresupuestoInput"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":1,"title":"Password"},"company_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Company Id"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"MLShipmentAddress":{"properties":{"address_line":{"type":"string","title":"Address Line","default":""},"city":{"type":"string","title":"City","default":""},"state":{"type":"string","title":"State","default":""},"zip_code":{"type":"string","title":"Zip Code","default":""},"country":{"type":"string","title":"Country","default":""}},"type":"object","title":"MLShipmentAddress","description":"Parsed ML shipping address."},"MLShipmentCostResponse":{"properties":{"gross_amount":{"type":"number","title":"Gross Amount","default":0},"receiver_cost":{"type":"number","title":"Receiver Cost","default":0},"sender_cost":{"type":"number","title":"Sender Cost","default":0},"currency":{"type":"string","title":"Currency","default":"CLP"}},"type":"object","title":"MLShipmentCostResponse","description":"ML shipment cost breakdown."},"MLShipmentDimensions":{"properties":{"height":{"type":"number","title":"Height","default":0},"width":{"type":"number","title":"Width","default":0},"length":{"type":"number","title":"Length","default":0},"weight":{"type":"number","title":"Weight","default":0}},"type":"object","title":"MLShipmentDimensions","description":"ML shipment package dimensions."},"MLShipmentListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"ml_shipment_id":{"type":"string","title":"Ml Shipment Id"},"order_id":{"type":"string","title":"Order Id","default":""},"status":{"type":"string","title":"Status"},"receiver_name":{"type":"string","title":"Receiver Name","default":""},"destination_city":{"type":"string","title":"Destination City","default":""},"tracking_number":{"type":"string","title":"Tracking Number","default":""},"carrier":{"type":"string","title":"Carrier","default":"mercadolibre"},"fecha_admision":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Admision"},"fecha_entrega":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Entrega"},"fecha_estimada_entrega":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Estimada Entrega"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","ml_shipment_id","status","created_at"],"title":"MLShipmentListItem","description":"Summary item for listing ML shipments."},"MLShipmentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"tracking_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tracking Number"},"status":{"type":"string","title":"Status"},"substatus":{"type":"string","title":"Substatus","default":""},"date_created":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Created"},"last_updated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Updated"},"logistic_mode":{"type":"string","title":"Logistic Mode","default":""},"logistic_type":{"type":"string","title":"Logistic Type","default":""},"dimensions":{"anyOf":[{"$ref":"#/components/schemas/MLShipmentDimensions"},{"type":"null"}]},"origin":{"anyOf":[{"$ref":"#/components/schemas/MLShipmentAddress"},{"type":"null"}]},"destination":{"anyOf":[{"$ref":"#/components/schemas/MLShipmentAddress"},{"type":"null"}]},"receiver_name":{"type":"string","title":"Receiver Name","default":""},"receiver_phone":{"type":"string","title":"Receiver Phone","default":""},"shipping_method":{"type":"string","title":"Shipping Method","default":""},"cost":{"type":"number","title":"Cost","default":0},"cost_type":{"type":"string","title":"Cost Type","default":""},"estimated_delivery":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estimated Delivery"},"carrier_name":{"type":"string","title":"Carrier Name","default":""},"carrier_tracking_url":{"type":"string","title":"Carrier Tracking Url","default":""}},"type":"object","required":["id","status"],"title":"MLShipmentResponse","description":"Full ML shipment detail response."},"MLShipmentSyncRequest":{"properties":{"days_back":{"type":"integer","maximum":365.0,"minimum":1.0,"title":"Days Back","default":30}},"type":"object","title":"MLShipmentSyncRequest","description":"Request to sync ML shipments."},"MLShipmentSyncResponse":{"properties":{"synced":{"type":"integer","title":"Synced"},"created":{"type":"integer","title":"Created"},"updated":{"type":"integer","title":"Updated"},"errors":{"type":"integer","title":"Errors"}},"type":"object","required":["synced","created","updated","errors"],"title":"MLShipmentSyncResponse","description":"Response from ML shipment sync."},"MLTrackingEventResponse":{"properties":{"status":{"type":"string","title":"Status"},"substatus":{"type":"string","title":"Substatus","default":""},"date":{"type":"string","title":"Date"}},"type":"object","required":["status","date"],"title":"MLTrackingEventResponse","description":"Individual ML tracking event."},"MLTrackingResponse":{"properties":{"ml_shipment_id":{"type":"string","title":"Ml Shipment Id"},"estado_actual":{"type":"string","title":"Estado Actual"},"fecha_entrega":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Entrega"},"eventos":{"items":{"$ref":"#/components/schemas/MLTrackingEventResponse"},"type":"array","title":"Eventos"}},"type":"object","required":["ml_shipment_id","estado_actual","eventos"],"title":"MLTrackingResponse","description":"Complete tracking information for an ML shipment."},"MarcarFacturadaRequest":{"properties":{"dte_id":{"type":"string","format":"uuid","title":"Dte Id"}},"type":"object","required":["dte_id"],"title":"MarcarFacturadaRequest"},"MarketplaceConfigResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"platform":{"type":"string","title":"Platform"},"is_active":{"type":"boolean","title":"Is Active"},"is_connected":{"type":"boolean","title":"Is Connected"},"last_sync_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync At"},"sync_status":{"type":"string","title":"Sync Status"},"webhook_enabled":{"type":"boolean","title":"Webhook Enabled"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","platform","is_active","is_connected","sync_status","webhook_enabled","created_at","updated_at"],"title":"MarketplaceConfigResponse","description":"Marketplace configuration status."},"MarketplaceConnectRequest":{"properties":{"credentials":{"$ref":"#/components/schemas/MarketplaceCredentials","description":"Platform-specific credentials"},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config","description":"Optional configuration"}},"type":"object","required":["credentials"],"title":"MarketplaceConnectRequest","description":"Request to connect a marketplace platform."},"MarketplaceConnectResponse":{"properties":{"config_id":{"type":"string","title":"Config Id"},"platform":{"type":"string","title":"Platform"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["config_id","platform","status","message"],"title":"MarketplaceConnectResponse","description":"Response after connecting a platform."},"MarketplaceCredentials":{"properties":{"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"},"access_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Token"},"refresh_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"token_expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token Expires At"},"site_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Site Url"},"consumer_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Consumer Key"},"consumer_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Consumer Secret"},"api_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Url"},"admin_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Email"},"admin_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Password"},"seller_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seller Id"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"secret_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secret Key"}},"type":"object","title":"MarketplaceCredentials","description":"Credentials for different marketplace platforms.\n\nMercadoLibre:\n    - client_id: ML App ID (required for token refresh)\n    - client_secret: ML Secret Key (required for token refresh)\n    - access_token: OAuth access token\n    - refresh_token: OAuth refresh token (single-use per ML docs)\n    - user_id: ML user/seller ID\n    - token_expires_at: ISO datetime when access_token expires\n\nWooCommerce:\n    - site_url: WooCommerce store URL\n    - consumer_key: WooCommerce REST API consumer key\n    - consumer_secret: WooCommerce REST API consumer secret\n\nMedusa:\n    - api_url: Medusa server URL\n    - admin_email: Admin user email\n    - admin_password: Admin user password\n\nFalabella:\n    - seller_id: Falabella seller ID\n    - api_key: Falabella API key\n    - secret_key: Falabella secret key\n\nWalmart:\n    - client_id: Walmart OAuth Client ID\n    - client_secret: Walmart OAuth Client Secret\n    (Uses OAuth 2.0 Client Credentials flow - token auto-generated, 15min expiry)"},"MarketplaceOrderResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"external_order_id":{"type":"string","title":"External Order Id"},"platform":{"type":"string","title":"Platform"},"status":{"type":"string","title":"Status"},"order_data":{"additionalProperties":true,"type":"object","title":"Order Data"},"total_amount":{"type":"integer","title":"Total Amount"},"currency":{"type":"string","title":"Currency"},"external_created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"External Created At"},"external_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"External Updated At"},"dte_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Dte Id"},"last_fetched_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Fetched At"}},"type":"object","required":["id","external_order_id","platform","status","order_data","total_amount","currency"],"title":"MarketplaceOrderResponse","description":"Single marketplace order details."},"MarketplaceOrdersListResponse":{"properties":{"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"platform":{"type":"string","title":"Platform"}},"type":"object","required":["items","total","platform"],"title":"MarketplaceOrdersListResponse","description":"List of marketplace orders."},"MarketplaceProductResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"external_product_id":{"type":"string","title":"External Product Id"},"platform":{"type":"string","title":"Platform"},"local_sku":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Sku"},"local_product_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Local Product Id"},"product_data":{"additionalProperties":true,"type":"object","title":"Product Data"},"stock_quantity":{"type":"integer","title":"Stock Quantity"},"price":{"type":"integer","title":"Price"},"is_active":{"type":"boolean","title":"Is Active"},"is_published":{"type":"boolean","title":"Is Published"},"last_fetched_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Fetched At"}},"type":"object","required":["id","external_product_id","platform","product_data","stock_quantity","price","is_active","is_published"],"title":"MarketplaceProductResponse","description":"Single marketplace product details."},"MarketplaceProductsListResponse":{"properties":{"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"platform":{"type":"string","title":"Platform"}},"type":"object","required":["items","total","platform"],"title":"MarketplaceProductsListResponse","description":"List of marketplace products."},"MarketplaceStatsResponse":{"properties":{"platform":{"type":"string","title":"Platform"},"is_connected":{"type":"boolean","title":"Is Connected"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"orders":{"additionalProperties":{"type":"integer"},"type":"object","title":"Orders"},"products":{"additionalProperties":{"type":"integer"},"type":"object","title":"Products"},"last_sync":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Sync"},"sync_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sync Status"}},"type":"object","required":["platform","is_connected","orders","products"],"title":"MarketplaceStatsResponse","description":"Statistics for a marketplace platform."},"MarketplaceSyncRequest":{"properties":{"sync_type":{"type":"string","enum":["full","orders","products","inventory"],"title":"Sync Type","description":"Type of sync: orders, products, inventory, or full","default":"full"}},"type":"object","title":"MarketplaceSyncRequest","description":"Request to sync a marketplace platform."},"MarketplaceSyncResponse":{"properties":{"platform":{"type":"string","title":"Platform"},"status":{"type":"string","title":"Status"},"items_processed":{"type":"integer","title":"Items Processed"},"message":{"type":"string","title":"Message"}},"type":"object","required":["platform","status","items_processed","message"],"title":"MarketplaceSyncResponse","description":"Sync operation result."},"MercadoPagoCallbackRequest":{"properties":{"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code","description":"Authorization code from MP"},"state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"State","description":"State for CSRF protection"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Error from MP if any"},"error_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Description","description":"Error details"}},"type":"object","title":"MercadoPagoCallbackRequest","description":"OAuth callback parameters."},"MercadoPagoConfigResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"is_active":{"type":"boolean","title":"Is Active"},"mp_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mp User Id"},"mp_account_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mp Account Id"},"last_sync_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync At"},"sync_status":{"type":"string","title":"Sync Status"},"webhook_enabled":{"type":"boolean","title":"Webhook Enabled"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","is_active","sync_status","webhook_enabled","created_at","updated_at"],"title":"MercadoPagoConfigResponse","description":"MercadoPago configuration status."},"MercadoPagoConnectRequest":{"properties":{"client_id":{"type":"string","minLength":1,"title":"Client Id","description":"MercadoPago Client ID"},"client_secret":{"type":"string","minLength":1,"title":"Client Secret","description":"MercadoPago Client Secret"},"redirect_uri":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Redirect Uri","description":"OAuth callback URI (optional, defaults to system config)"}},"type":"object","required":["client_id","client_secret"],"title":"MercadoPagoConnectRequest","description":"Request to initiate OAuth flow."},"MercadoPagoConnectResponse":{"properties":{"authorization_url":{"type":"string","title":"Authorization Url"},"state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"State"}},"type":"object","required":["authorization_url"],"title":"MercadoPagoConnectResponse","description":"Response with authorization URL."},"MercadoPagoStatusResponse":{"properties":{"companies":{"additionalProperties":{"$ref":"#/components/schemas/MercadoPagoSyncResponse"},"type":"object","title":"Companies"},"total_companies":{"type":"integer","title":"Total Companies"},"total_created":{"type":"integer","title":"Total Created"},"total_updated":{"type":"integer","title":"Total Updated"},"total_errors":{"type":"integer","title":"Total Errors"}},"type":"object","required":["companies","total_companies","total_created","total_updated","total_errors"],"title":"MercadoPagoStatusResponse","description":"Overall sync status for all companies."},"MercadoPagoSyncRequest":{"properties":{"begin_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Begin Date","description":"Start date (default: 7 days ago)"},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date","description":"End date (default: now)"}},"type":"object","title":"MercadoPagoSyncRequest","description":"Request to sync payments manually."},"MercadoPagoSyncResponse":{"properties":{"created":{"type":"integer","title":"Created"},"updated":{"type":"integer","title":"Updated"},"errors":{"type":"integer","title":"Errors"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["created","updated","errors"],"title":"MercadoPagoSyncResponse","description":"Sync operation result."},"MovimientoBancarioInput":{"properties":{"banco":{"type":"string","title":"Banco"},"cuenta_bancaria":{"type":"string","title":"Cuenta Bancaria"},"fecha":{"type":"string","title":"Fecha"},"descripcion":{"type":"string","title":"Descripcion"},"monto":{"type":"integer","title":"Monto"},"tipo":{"type":"string","title":"Tipo","default":"otro"},"referencia":{"type":"string","title":"Referencia","default":""},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["banco","cuenta_bancaria","fecha","descripcion","monto"],"title":"MovimientoBancarioInput"},"MovimientoInput":{"properties":{"producto_id":{"type":"string","format":"uuid","title":"Producto Id"},"tipo":{"type":"string","title":"Tipo"},"cantidad":{"type":"integer","title":"Cantidad"},"costo_unitario":{"type":"integer","title":"Costo Unitario","default":0},"referencia_tipo":{"type":"string","title":"Referencia Tipo","default":""},"referencia_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Referencia Id"},"referencia_folio":{"type":"string","title":"Referencia Folio","default":""},"notas":{"type":"string","title":"Notas","default":""},"bodega_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Bodega Id"}},"type":"object","required":["producto_id","tipo","cantidad"],"title":"MovimientoInput"},"NotificacionListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"no_leidas":{"type":"integer","title":"No Leidas"},"items":{"items":{"$ref":"#/components/schemas/NotificacionResponse"},"type":"array","title":"Items"}},"type":"object","required":["total","no_leidas","items"],"title":"NotificacionListResponse"},"NotificacionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo":{"type":"string","title":"Tipo"},"titulo":{"type":"string","title":"Titulo"},"mensaje":{"type":"string","title":"Mensaje"},"entidad_tipo":{"type":"string","title":"Entidad Tipo"},"entidad_id":{"type":"string","title":"Entidad Id"},"leida":{"type":"boolean","title":"Leida"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","tipo","titulo","mensaje","entidad_tipo","entidad_id","leida","created_at"],"title":"NotificacionResponse"},"OrdenCompraCreate":{"properties":{"rut_proveedor":{"type":"string","title":"Rut Proveedor"},"razon_social_proveedor":{"type":"string","title":"Razon Social Proveedor"},"items":{"items":{"$ref":"#/components/schemas/ItemInput"},"type":"array","title":"Items"},"fecha_entrega":{"type":"string","title":"Fecha Entrega","default":""},"notas":{"type":"string","title":"Notas","default":""},"condiciones_pago":{"type":"string","title":"Condiciones Pago","default":""},"contacto_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contacto Id"}},"type":"object","required":["rut_proveedor","razon_social_proveedor","items"],"title":"OrdenCompraCreate"},"OrdenCompraListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"numero":{"type":"integer","title":"Numero"},"rut_proveedor":{"type":"string","title":"Rut Proveedor"},"razon_social_proveedor":{"type":"string","title":"Razon Social Proveedor"},"monto_total":{"type":"integer","title":"Monto Total"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_entrega":{"type":"string","title":"Fecha Entrega"},"estado":{"type":"string","title":"Estado"}},"type":"object","required":["id","numero","rut_proveedor","razon_social_proveedor","monto_total","fecha_emision","fecha_entrega","estado"],"title":"OrdenCompraListItem"},"OrdenCompraListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"items":{"items":{"$ref":"#/components/schemas/OrdenCompraListItem"},"type":"array","title":"Items"}},"type":"object","required":["total","page","per_page","items"],"title":"OrdenCompraListResponse"},"OrdenCompraResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"numero":{"type":"integer","title":"Numero"},"rut_proveedor":{"type":"string","title":"Rut Proveedor"},"razon_social_proveedor":{"type":"string","title":"Razon Social Proveedor"},"items_json":{"type":"string","title":"Items Json"},"monto_neto":{"type":"integer","title":"Monto Neto"},"monto_iva":{"type":"integer","title":"Monto Iva"},"monto_total":{"type":"integer","title":"Monto Total"},"fecha_emision":{"type":"string","title":"Fecha Emision"},"fecha_entrega":{"type":"string","title":"Fecha Entrega"},"estado":{"type":"string","title":"Estado"},"notas":{"type":"string","title":"Notas"},"condiciones_pago":{"type":"string","title":"Condiciones Pago"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","numero","rut_proveedor","razon_social_proveedor","items_json","monto_neto","monto_iva","monto_total","fecha_emision","fecha_entrega","estado","notas","condiciones_pago","created_at"],"title":"OrdenCompraResponse"},"OrdenCompraUpdate":{"properties":{"rut_proveedor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rut Proveedor"},"razon_social_proveedor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Razon Social Proveedor"},"items":{"anyOf":[{"items":{"$ref":"#/components/schemas/ItemInput"},"type":"array"},{"type":"null"}],"title":"Items"},"fecha_entrega":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fecha Entrega"},"notas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notas"},"condiciones_pago":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Condiciones Pago"},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},"type":"object","title":"OrdenCompraUpdate"},"PagoCreate":{"properties":{"monto":{"type":"integer","title":"Monto"},"medio_pago":{"type":"string","title":"Medio Pago","default":"transferencia"},"referencia":{"type":"string","title":"Referencia","default":""},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["monto"],"title":"PagoCreate"},"PagoResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"monto":{"type":"integer","title":"Monto"},"fecha_pago":{"type":"string","format":"date-time","title":"Fecha Pago"},"medio_pago":{"type":"string","title":"Medio Pago"},"referencia":{"type":"string","title":"Referencia"},"notas":{"type":"string","title":"Notas"}},"type":"object","required":["id","monto","fecha_pago","medio_pago","referencia","notas"],"title":"PagoResponse"},"PlanResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"slug":{"type":"string","title":"Slug"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"price_uf":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Price Uf"},"price_uf_yearly":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Price Uf Yearly"},"price_clp_approx":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Price Clp Approx","description":"Approximate CLP price (informational, not for charging)"},"limits":{"additionalProperties":true,"type":"object","title":"Limits"},"display_order":{"type":"integer","title":"Display Order"},"is_active":{"type":"boolean","title":"Is Active"},"is_public":{"type":"boolean","title":"Is Public"}},"type":"object","required":["id","slug","name","description","price_uf","limits","display_order","is_active","is_public"],"title":"PlanResponse"},"PresupuestoInput":{"properties":{"nombre":{"type":"string","title":"Nombre"},"ano":{"type":"integer","title":"Ano"},"lineas":{"items":{"$ref":"#/components/schemas/LineaPresupuestoInput"},"type":"array","title":"Lineas"},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["nombre","ano","lineas"],"title":"PresupuestoInput"},"ProductoCreate":{"properties":{"codigo":{"type":"string","title":"Codigo"},"nombre":{"type":"string","title":"Nombre"},"descripcion":{"type":"string","title":"Descripcion","default":""},"unidad_medida":{"type":"string","title":"Unidad Medida","default":"UN"},"precio_neto":{"type":"integer","title":"Precio Neto","default":0},"es_exento":{"type":"boolean","title":"Es Exento","default":false},"tipo":{"type":"string","title":"Tipo","default":"producto"},"stock_actual":{"type":"integer","title":"Stock Actual","default":0},"stock_minimo":{"type":"integer","title":"Stock Minimo","default":0},"costo":{"type":"integer","title":"Costo","default":0}},"type":"object","required":["codigo","nombre"],"title":"ProductoCreate"},"ProductoListItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"codigo":{"type":"string","title":"Codigo"},"nombre":{"type":"string","title":"Nombre"},"unidad_medida":{"type":"string","title":"Unidad Medida"},"precio_neto":{"type":"integer","title":"Precio Neto"},"es_exento":{"type":"boolean","title":"Es Exento"},"tipo":{"type":"string","title":"Tipo"},"stock_actual":{"type":"integer","title":"Stock Actual"},"stock_minimo":{"type":"integer","title":"Stock Minimo"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","codigo","nombre","unidad_medida","precio_neto","es_exento","tipo","stock_actual","stock_minimo","is_active"],"title":"ProductoListItem"},"ProductoListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"items":{"items":{"$ref":"#/components/schemas/ProductoListItem"},"type":"array","title":"Items"}},"type":"object","required":["total","page","per_page","items"],"title":"ProductoListResponse"},"ProductoResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"codigo":{"type":"string","title":"Codigo"},"nombre":{"type":"string","title":"Nombre"},"descripcion":{"type":"string","title":"Descripcion"},"unidad_medida":{"type":"string","title":"Unidad Medida"},"precio_neto":{"type":"integer","title":"Precio Neto"},"es_exento":{"type":"boolean","title":"Es Exento"},"tipo":{"type":"string","title":"Tipo"},"stock_actual":{"type":"integer","title":"Stock Actual"},"stock_minimo":{"type":"integer","title":"Stock Minimo"},"costo":{"type":"integer","title":"Costo"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","codigo","nombre","descripcion","unidad_medida","precio_neto","es_exento","tipo","stock_actual","stock_minimo","costo","is_active","created_at","updated_at"],"title":"ProductoResponse"},"ProductoUpdate":{"properties":{"codigo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"unidad_medida":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unidad Medida"},"precio_neto":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Precio Neto"},"es_exento":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Exento"},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tipo"},"stock_actual":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Stock Actual"},"stock_minimo":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Stock Minimo"},"costo":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Costo"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ProductoUpdate"},"ReceptorInput":{"properties":{"rut":{"type":"string","title":"Rut"},"razon_social":{"type":"string","maxLength":100,"minLength":1,"title":"Razon Social"},"giro":{"type":"string","maxLength":40,"minLength":1,"title":"Giro"},"direccion":{"type":"string","maxLength":70,"minLength":1,"title":"Direccion"},"comuna":{"type":"string","maxLength":20,"minLength":1,"title":"Comuna"},"ciudad":{"type":"string","title":"Ciudad","default":""}},"type":"object","required":["rut","razon_social","giro","direccion","comuna"],"title":"ReceptorInput"},"ReferenciaInput":{"properties":{"numero_linea":{"type":"integer","minimum":1.0,"title":"Numero Linea"},"tipo_documento_ref":{"type":"string","title":"Tipo Documento Ref"},"folio_ref":{"type":"string","maxLength":18,"minLength":1,"title":"Folio Ref"},"fecha_ref":{"type":"string","title":"Fecha Ref"},"razon_ref":{"type":"string","maxLength":90,"minLength":1,"title":"Razon Ref"},"codigo_ref":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Codigo Ref"}},"type":"object","required":["numero_linea","tipo_documento_ref","folio_ref","fecha_ref","razon_ref"],"title":"ReferenciaInput"},"SolicitarFoliosRequest":{"properties":{"tipo_dte":{"type":"integer","title":"Tipo Dte"},"cantidad":{"type":"integer","maximum":200.0,"minimum":1.0,"title":"Cantidad","default":20}},"type":"object","required":["tipo_dte"],"title":"SolicitarFoliosRequest"},"SolicitarFoliosResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tipo_dte":{"type":"integer","title":"Tipo Dte"},"folio_desde":{"type":"integer","title":"Folio Desde"},"folio_hasta":{"type":"integer","title":"Folio Hasta"},"estado":{"type":"string","title":"Estado"}},"type":"object","required":["id","tipo_dte","folio_desde","folio_hasta","estado"],"title":"SolicitarFoliosResponse"},"SubscribeRequest":{"properties":{"plan_slug":{"type":"string","maxLength":50,"minLength":2,"title":"Plan Slug"},"billing_cycle":{"type":"string","pattern":"^(monthly|yearly)$","title":"Billing Cycle","default":"monthly"},"payer_email":{"type":"string","title":"Payer Email","description":"Payer email for MercadoPago checkout"},"back_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Back Url","description":"URL to redirect after MP checkout"}},"type":"object","required":["plan_slug","payer_email"],"title":"SubscribeRequest"},"SubscribeResponse":{"properties":{"subscription_id":{"type":"string","format":"uuid","title":"Subscription Id"},"init_point":{"type":"string","title":"Init Point","description":"MercadoPago checkout URL"},"mp_preapproval_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mp Preapproval Id"}},"type":"object","required":["subscription_id","init_point"],"title":"SubscribeResponse"},"SubscriptionAddonResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"addon":{"$ref":"#/components/schemas/AddonResponse"},"status":{"type":"string","title":"Status"},"activated_at":{"type":"string","format":"date-time","title":"Activated At"},"deactivated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deactivated At"}},"type":"object","required":["id","addon","status","activated_at"],"title":"SubscriptionAddonResponse"},"SubscriptionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"plan":{"$ref":"#/components/schemas/PlanResponse"},"status":{"type":"string","title":"Status"},"billing_cycle":{"type":"string","title":"Billing Cycle"},"current_period_start":{"type":"string","format":"date-time","title":"Current Period Start"},"current_period_end":{"type":"string","format":"date-time","title":"Current Period End"},"trial_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Trial End"},"grace_period_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Grace Period End"},"cancel_at_period_end":{"type":"boolean","title":"Cancel At Period End"},"cancelled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Cancelled At"},"admin_override":{"type":"boolean","title":"Admin Override"},"active_addons":{"items":{"$ref":"#/components/schemas/SubscriptionAddonResponse"},"type":"array","title":"Active Addons","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","company_id","plan","status","billing_cycle","current_period_start","current_period_end","cancel_at_period_end","admin_override","created_at"],"title":"SubscriptionResponse"},"SwitchCompanyRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"}},"type":"object","required":["company_id"],"title":"SwitchCompanyRequest"},"SyncRCVRequest":{"properties":{"periodo":{"type":"string","title":"Periodo"},"tipo_dte":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tipo Dte"}},"type":"object","required":["periodo"],"title":"SyncRCVRequest"},"SyncRCVResponse":{"properties":{"periodo":{"type":"string","title":"Periodo"},"nuevos":{"type":"integer","title":"Nuevos"},"actualizados":{"type":"integer","title":"Actualizados"},"total_periodo":{"type":"integer","title":"Total Periodo"}},"type":"object","required":["periodo","nuevos","actualizados","total_periodo"],"title":"SyncRCVResponse"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user":{"$ref":"#/components/schemas/UsuarioResponse"},"companies":{"items":{"$ref":"#/components/schemas/CompanyRole"},"type":"array","title":"Companies","default":[]}},"type":"object","required":["access_token","user"],"title":"TokenResponse"},"TrackingEventResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"fecha_evento":{"type":"string","format":"date-time","title":"Fecha Evento"},"estado":{"type":"string","title":"Estado"},"oficina":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Oficina"}},"type":"object","required":["id","fecha_evento","estado","oficina"],"title":"TrackingEventResponse","description":"Individual tracking event."},"TrackingResponse":{"properties":{"numero_envio":{"type":"string","title":"Numero Envio"},"estado_actual":{"type":"string","title":"Estado Actual"},"fecha_admision":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Admision"},"fecha_entrega":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Entrega"},"eventos":{"items":{"$ref":"#/components/schemas/TrackingEventResponse"},"type":"array","title":"Eventos"}},"type":"object","required":["numero_envio","estado_actual","fecha_admision","fecha_entrega","eventos"],"title":"TrackingResponse","description":"Complete tracking information."},"TransferenciaInput":{"properties":{"producto_id":{"type":"string","format":"uuid","title":"Producto Id"},"bodega_origen_id":{"type":"string","format":"uuid","title":"Bodega Origen Id"},"bodega_destino_id":{"type":"string","format":"uuid","title":"Bodega Destino Id"},"cantidad":{"type":"integer","title":"Cantidad"},"notas":{"type":"string","title":"Notas","default":""}},"type":"object","required":["producto_id","bodega_origen_id","bodega_destino_id","cantidad"],"title":"TransferenciaInput"},"UsageLimitDetail":{"properties":{"key":{"type":"string","title":"Key"},"current":{"type":"integer","title":"Current"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","description":"None or -1 means unlimited"},"percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Percentage"}},"type":"object","required":["key","current","limit"],"title":"UsageLimitDetail"},"UsageResponse":{"properties":{"plan_slug":{"type":"string","title":"Plan Slug"},"plan_name":{"type":"string","title":"Plan Name"},"status":{"type":"string","title":"Status"},"items":{"items":{"$ref":"#/components/schemas/UsageLimitDetail"},"type":"array","title":"Items"}},"type":"object","required":["plan_slug","plan_name","status","items"],"title":"UsageResponse"},"UsuarioCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"nombre":{"type":"string","maxLength":100,"minLength":2,"title":"Nombre"},"password":{"type":"string","maxLength":128,"minLength":8,"title":"Password"},"rol":{"type":"string","enum":["admin","contador","vendedor","readonly"],"title":"Rol","default":"readonly"}},"type":"object","required":["email","nombre","password"],"title":"UsuarioCreate"},"UsuarioResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"email":{"type":"string","title":"Email"},"nombre":{"type":"string","title":"Nombre"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"company_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Company Id"},"rol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rol"}},"type":"object","required":["id","email","nombre","is_active","created_at"],"title":"UsuarioResponse"},"UsuarioUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string","maxLength":100,"minLength":2},{"type":"null"}],"title":"Nombre"},"rol":{"anyOf":[{"type":"string","enum":["admin","contador","vendedor","readonly"]},{"type":"null"}],"title":"Rol"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UsuarioUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WebhookConfigCreate":{"properties":{"url":{"type":"string","title":"Url"},"secret":{"type":"string","title":"Secret","default":""},"eventos":{"type":"string","title":"Eventos","default":"*"}},"type":"object","required":["url"],"title":"WebhookConfigCreate"},"WebhookConfigResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"url":{"type":"string","title":"Url"},"eventos":{"type":"string","title":"Eventos"},"is_active":{"type":"boolean","title":"Is Active"},"ultimo_envio":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultimo Envio"},"errores_consecutivos":{"type":"integer","title":"Errores Consecutivos"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","url","eventos","is_active","ultimo_envio","errores_consecutivos","created_at"],"title":"WebhookConfigResponse"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"},"HTTPBearer":{"type":"http","scheme":"bearer"}}}}